<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Add_sOpp_to_sOpps</name>
        <label>Add sOpp to sOpps</label>
        <locationX>690</locationX>
        <locationY>13</locationY>
        <assignmentItems>
            <assignToReference>scOpportunities</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_scOppChildren</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_sOpp_update</name>
        <label>Add sOpp update</label>
        <locationX>112</locationX>
        <locationY>276</locationY>
        <assignmentItems>
            <assignToReference>scOpportunitiesUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_sOpps</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_sOppChild_to_sOpps</name>
        <label>Add sOppChild to sOpps</label>
        <locationX>1537</locationX>
        <locationY>103</locationY>
        <assignmentItems>
            <assignToReference>scOpportunities</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityChild</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOppChildren</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>ChildExists_SyncConfirmed</name>
        <label>ChildExists, SyncConfirmed</label>
        <locationX>1991</locationX>
        <locationY>938</locationY>
        <assignmentItems>
            <assignToReference>vChildExistOnParent</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleParent.Sync_confirmed__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sORparent_has_roles_on_OC_PAX</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sOR_to_delete</name>
        <label>Collect sOR to delete</label>
        <locationX>726</locationX>
        <locationY>836</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRolesDelete</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRole</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scORprocessed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sOR_to_update</name>
        <label>Collect sOR to update</label>
        <locationX>492</locationX>
        <locationY>1037</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRolesUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRole</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scORprocessed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sORfresh_create</name>
        <label>Collect sORfresh create</label>
        <locationX>1186</locationX>
        <locationY>619</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRolesCreate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRoleFresh</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>scOpportunityRolesParent</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRoleFresh</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sORparent</name>
        <label>Collect sORparent</label>
        <locationX>1844</locationX>
        <locationY>467</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRolesParent</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRole</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_updated_sOR</name>
        <label>Collect updated sOR</label>
        <locationX>2292</locationX>
        <locationY>1242</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRolesUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRole</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Process_sORparent</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Override_vOppAutoRefresh</name>
        <label>Override vOppAutoRefresh</label>
        <locationX>175</locationX>
        <locationY>105</locationY>
        <assignmentItems>
            <assignToReference>vOppAutoRefresh</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunity.Automatic_refresh__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Automatic_refresh__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Monthlies_syncing</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Process_sORparent</name>
        <label>Process sORparent</label>
        <locationX>2285</locationX>
        <locationY>837</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRolesProcessed</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRoleParent</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scORparent</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_scORparent</name>
        <label>Reset scORparent</label>
        <locationX>1559</locationX>
        <locationY>729</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRolesParent</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scOpportunityRolesProcessed</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>If_vChildExistsOnParent</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_sOpp</name>
        <label>Reset sOpp</label>
        <locationX>245</locationX>
        <locationY>195</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_1__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_1_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_2__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_2_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_3__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_3_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_4__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_4_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_1__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_1_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_2__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_2_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_1__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_1_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_2__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_2_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Referrer__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Referrer_Per__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Referrer_Type__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.ENSI_split_services_Per__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.ENSI_split_materials_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Roles_syncing__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Roles_sync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_scOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_sOR_sync_confirmed</name>
        <label>Reset sOR sync confirmed</label>
        <locationX>597</locationX>
        <locationY>180</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRole.Sync_confirmed__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Fac_pos</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_vExist_scORprocessed</name>
        <label>Reset vExist, scORprocessed</label>
        <locationX>1998</locationX>
        <locationY>731</locationY>
        <assignmentItems>
            <assignToReference>vChildExistOnParent</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>scOpportunityRolesProcessed</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scOpportunityRolesEmpty</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scORparent</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_ENSI_perc</name>
        <label>Set ENSI %</label>
        <locationX>1641</locationX>
        <locationY>293</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.ENSI_split_services_Per__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_ENSI__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.ENSI_split_materials_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_ENSI__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Referrer_Perc_set</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_monthlies_resync</name>
        <label>Set monthlies resync</label>
        <locationX>535</locationX>
        <locationY>12</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Monthlies_resync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_sOpp_to_sOpps</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_monthlies_syncing</name>
        <label>Set monthlies syncing</label>
        <locationX>368</locationX>
        <locationY>93</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Monthlies_syncing__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vSyncMonthlies</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_sOpp_to_sOpps</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Referrer</name>
        <label>Set Referrer</label>
        <locationX>1841</locationX>
        <locationY>299</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Referrer_Per__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_ref__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Referrer__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Referrer_account__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Referrer_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Referrer_type__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>If_sOpp_has_Parent</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_roles_comparator</name>
        <label>Set roles comparator</label>
        <locationX>1534</locationX>
        <locationY>25</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityChild.Opportunity_Roles_count_comparator__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityChild.Opportunity_Roles_count__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_sOppChild_to_sOpps</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Fac</name>
        <label>Set sOpp.Fac4</label>
        <locationX>892</locationX>
        <locationY>460</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_4__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_4_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_fac__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vOrFacCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Sell_pos</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Fac1</name>
        <label>Set sOpp.Fac1</label>
        <locationX>886</locationX>
        <locationY>231</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_1__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_1_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_fac__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vOrFacCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Sell_pos</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Fac2</name>
        <label>Set sOpp.Fac2</label>
        <locationX>890</locationX>
        <locationY>310</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_2__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_2_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_fac__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vOrFacCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Sell_pos</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Fac3</name>
        <label>Set sOpp.Fac3</label>
        <locationX>891</locationX>
        <locationY>386</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_3__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Facilitator_3_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_fac__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vOrFacCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Sell_pos</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Sell1</name>
        <label>Set sOpp.Sell1</label>
        <locationX>1157</locationX>
        <locationY>251</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_1__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_1_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_sell__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_1_Pec_Materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_sell__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Spot_pos</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Sell2</name>
        <label>Set sOpp.Sell2</label>
        <locationX>1157</locationX>
        <locationY>336</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_2__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_2_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_sell__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sell_2_Pec_Materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_sell__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Spot_pos</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Spot1</name>
        <label>Set sOpp.Spot1</label>
        <locationX>1443</locationX>
        <locationY>262</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_1__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_1_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_spot__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_1_Pec_Materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_spot__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ENSI_Perc_set</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Spot2</name>
        <label>Set sOpp.Spot2</label>
        <locationX>1447</locationX>
        <locationY>348</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_2__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_2_Pec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_spot__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Spot_2_Pec_Materials__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_spot__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ENSI_Perc_set</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOR_has_role_on_Parent</name>
        <label>Set sOR has role on Parent</label>
        <locationX>2003</locationX>
        <locationY>1244</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRole.Has_role_on_OC_Parent__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRole.Touch__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_updated_sOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sORfresh</name>
        <label>Set sORfresh</label>
        <locationX>1407</locationX>
        <locationY>618</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleFresh.Contact__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleFresh.Has_roles_on_OC_PAX__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleFresh.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>0121r000000xEZ6AAM</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleFresh.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleFresh.Id</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORfresh_create</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sORparent_has_roles_on_PAX</name>
        <label>Set sORparent has roles on PAX</label>
        <locationX>1767</locationX>
        <locationY>1042</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleParent.Has_roles_on_OC_PAX__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOR_has_role_on_Parent</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Sync_unconfirmed</name>
        <label>Set Sync unconfirmed</label>
        <locationX>729</locationX>
        <locationY>751</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRole.Sync_confirmed__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scORparent_2</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOR_set_roles_on_PAX_to_FALSE</name>
        <label>sOR set roles on PAX to FALSE</label>
        <locationX>729</locationX>
        <locationY>1214</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRole.Has_roles_on_OC_PAX__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sOR_to_update</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_sOpp_count</name>
        <label>Update sOpp count</label>
        <locationX>205</locationX>
        <locationY>361</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Num_PF_Leaders__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fOrFacCountLabel</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_sOpp_update</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Auto_refresh</name>
        <label>Auto refresh</label>
        <locationX>178</locationX>
        <locationY>15</locationY>
        <defaultConnector>
            <targetReference>Monthlies_syncing</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No refresh</defaultConnectorLabel>
        <rules>
            <name>Auto_refresh_From_sOpp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.Automatic_refresh__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Override_vOppAutoRefresh</targetReference>
            </connector>
            <label>From sOpp</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_sOR_create</name>
        <label>Check sOR create</label>
        <locationX>13</locationX>
        <locationY>1034</locationY>
        <defaultConnector>
            <targetReference>Check_sOR_update</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>sOR create NULL</defaultConnectorLabel>
        <rules>
            <name>sOR_create_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRolesCreate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOR_create</targetReference>
            </connector>
            <label>sOR create NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_sOR_delete</name>
        <label>Check sOR delete</label>
        <locationX>20</locationX>
        <locationY>1220</locationY>
        <defaultConnector>
            <targetReference>Update_sOpps</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>sOR delete NULL</defaultConnectorLabel>
        <rules>
            <name>sOR_delete_NOT_NULL_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRolesDelete</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOR_delete</targetReference>
            </connector>
            <label>sOR delete NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_sOR_duplicates</name>
        <label>Check for sOR duplicates?</label>
        <locationX>294</locationX>
        <locationY>637</locationY>
        <defaultConnector>
            <targetReference>sOR_sync_confirmed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Person, don&apos;t check</defaultConnectorLabel>
        <rules>
            <name>No_ID_dont_review</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scORprocessed</targetReference>
            </connector>
            <label>No ID, don&apos;t review</label>
        </rules>
        <rules>
            <name>Not_Person_or_Role_on_PAX_2</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ5AAM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ3AAM</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scORprocessed</targetReference>
            </connector>
            <label>Not Person or Role on PAX</label>
        </rules>
        <rules>
            <name>Do_check_duplicates</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ6AAM</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_scORparent_2</targetReference>
            </connector>
            <label>Do check</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_sOR_update</name>
        <label>Check sOR update</label>
        <locationX>18</locationX>
        <locationY>1128</locationY>
        <defaultConnector>
            <targetReference>Check_sOR_delete</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>sOR update NULL</defaultConnectorLabel>
        <rules>
            <name>sOR_update_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRolesUpdate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOR_update</targetReference>
            </connector>
            <label>sOR update NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>Compare_to_sORparent</name>
        <label>Compare to sORparent</label>
        <locationX>1999</locationX>
        <locationY>528</locationY>
        <defaultConnector>
            <targetReference>Set_sORfresh</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scORparent NULL</defaultConnectorLabel>
        <rules>
            <name>Not_person_or_Role_on_PAX</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ5AAM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ3AAM</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scOR</targetReference>
            </connector>
            <label>Not person or Role on PAX</label>
        </rules>
        <rules>
            <name>Yes_compare_sORparent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRolesParent</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_vExist_scORprocessed</targetReference>
            </connector>
            <label>Yes, compare</label>
        </rules>
    </decisions>
    <decisions>
        <name>ENSI_Perc_set</name>
        <label>ENSi % Set</label>
        <locationX>1588</locationX>
        <locationY>192</locationY>
        <defaultConnector>
            <targetReference>Referrer_Perc_set</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NOT ENSI</defaultConnectorLabel>
        <rules>
            <name>YES_ENSI</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.perc_comm_mat_ENSI__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.perc_comm_serv_ENSI__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_ENSI_perc</targetReference>
            </connector>
            <label>Yes, ENSi</label>
        </rules>
    </decisions>
    <decisions>
        <name>Fac_pos</name>
        <label>Fac. pos</label>
        <locationX>740</locationX>
        <locationY>182</locationY>
        <defaultConnector>
            <targetReference>Sell_pos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Fac. position not set</defaultConnectorLabel>
        <rules>
            <name>Fac_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Facilitator_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>1</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Fac1</targetReference>
            </connector>
            <label>Fac 1</label>
        </rules>
        <rules>
            <name>Fac_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Facilitator_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>2</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Fac2</targetReference>
            </connector>
            <label>Fac 2</label>
        </rules>
        <rules>
            <name>Fac_3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Facilitator_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>3</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Fac3</targetReference>
            </connector>
            <label>Fac 3</label>
        </rules>
        <rules>
            <name>Fac_4</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Facilitator_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>4</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Fac</targetReference>
            </connector>
            <label>Fac 4</label>
        </rules>
    </decisions>
    <decisions>
        <name>Find_duplicates</name>
        <label>Find duplicates</label>
        <locationX>725</locationX>
        <locationY>634</locationY>
        <defaultConnector>
            <targetReference>Loop_scORparent_2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No duplicate</defaultConnectorLabel>
        <rules>
            <name>Duplicate_is_person</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Contact__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sOpportunityRoleParent.Contact__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRoleParent.RecordTypeId</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ6AAM</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Sync_unconfirmed</targetReference>
            </connector>
            <label>Duplicate found is person</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_scOppChildren_NULL</name>
        <label>If scOppChildren NULL</label>
        <locationX>987</locationX>
        <locationY>17</locationY>
        <defaultConnector>
            <targetReference>Loop_sOpps</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>OppChildren NULL</defaultConnectorLabel>
        <rules>
            <name>scOppChildren_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityChildren</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scOppChildren</targetReference>
            </connector>
            <label>scOppChildren NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_scOR_NULL</name>
        <label>If scOR NULL</label>
        <locationX>388</locationX>
        <locationY>361</locationY>
        <defaultConnector>
            <targetReference>Update_sOpp_count</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scOR NULL</defaultConnectorLabel>
        <rules>
            <name>scOR_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRoles</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scOR</targetReference>
            </connector>
            <label>scOR NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_scORprocessed_NULL</name>
        <label>If scORprocessed NULL</label>
        <locationX>19</locationX>
        <locationY>826</locationY>
        <defaultConnector>
            <targetReference>Check_sOR_create</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scORprocessed NULL</defaultConnectorLabel>
        <rules>
            <name>scORprocessed_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRolesProcessed</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scORprocessed</targetReference>
            </connector>
            <label>scORprocessed NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_sOpp_has_Parent</name>
        <label>If sOpp has Parent</label>
        <locationX>1995</locationX>
        <locationY>200</locationY>
        <defaultConnector>
            <targetReference>Collect_sORparent</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No parent</defaultConnectorLabel>
        <rules>
            <name>sOpp_has_parent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.Parent_Opportunity__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Compare_to_sORparent</targetReference>
            </connector>
            <label>sOpp has parent</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_vChildExistsOnParent</name>
        <label>If vChildExistsOnParent</label>
        <locationX>1410</locationX>
        <locationY>729</locationY>
        <defaultConnector>
            <targetReference>scOR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Child does exist</defaultConnectorLabel>
        <rules>
            <name>Child_doesn_t_exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vChildExistOnParent</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sORfresh</targetReference>
            </connector>
            <label>Child doesn&apos;t exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Match_Contact_on_Roles</name>
        <label>Match Contacts on Roles</label>
        <locationX>1991</locationX>
        <locationY>844</locationY>
        <defaultConnector>
            <targetReference>Process_sORparent</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Contact match</defaultConnectorLabel>
        <rules>
            <name>Contacts_match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Contact__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sOpportunityRoleParent.Contact__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ChildExists_SyncConfirmed</targetReference>
            </connector>
            <label>Contacts match</label>
        </rules>
    </decisions>
    <decisions>
        <name>Monthlies_syncing</name>
        <label>Monthlies syncing</label>
        <locationX>369</locationX>
        <locationY>8</locationY>
        <defaultConnector>
            <targetReference>Set_monthlies_syncing</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Monthlies_syncing_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.Monthlies_syncing__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_monthlies_resync</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Referrer_Perc_set</name>
        <label>Referrer % Set</label>
        <locationX>1776</locationX>
        <locationY>193</locationY>
        <defaultConnector>
            <targetReference>If_sOpp_has_Parent</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NOT Referrer</defaultConnectorLabel>
        <rules>
            <name>YES_Referrer</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.perc_comm_ref__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Referrer</targetReference>
            </connector>
            <label>Yes, Referrer</label>
        </rules>
    </decisions>
    <decisions>
        <name>Sell_pos</name>
        <label>Sell pos</label>
        <locationX>1020</locationX>
        <locationY>185</locationY>
        <defaultConnector>
            <targetReference>Spot_pos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Sell position not set</defaultConnectorLabel>
        <rules>
            <name>Sell_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Sell_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>1</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Sell1</targetReference>
            </connector>
            <label>Sell 1</label>
        </rules>
        <rules>
            <name>Sell_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Sell_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>2</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Sell2</targetReference>
            </connector>
            <label>Sell 2</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOR_has_role_on_Parent</name>
        <label>sOR has role on Parent?</label>
        <locationX>2001</locationX>
        <locationY>1140</locationY>
        <defaultConnector>
            <targetReference>Set_sOR_has_role_on_Parent</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No role on Parent</defaultConnectorLabel>
        <rules>
            <name>Yes_already_has_role</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Has_role_on_OC_Parent__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Process_sORparent</targetReference>
            </connector>
            <label>Yes, already has role</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOR_has_roles_on_OC_PAX_1</name>
        <label>sOR has roles on OC PAX?</label>
        <locationX>729</locationX>
        <locationY>1095</locationY>
        <defaultConnector>
            <targetReference>scORprocessed</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No roles on PAX</defaultConnectorLabel>
        <rules>
            <name>Yes_already_has_roles_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Has_roles_on_OC_PAX__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOR_set_roles_on_PAX_to_FALSE</targetReference>
            </connector>
            <label>Yes, has roles set to TRUE</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOR_is_Roles_on_OC_PAX_only</name>
        <label>sOR is Roles on OC PAX only</label>
        <locationX>729</locationX>
        <locationY>981</locationY>
        <defaultConnector>
            <targetReference>sOR_has_roles_on_OC_PAX_1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, more than OC PAX roles</defaultConnectorLabel>
        <rules>
            <name>Yes_Roles_on_OC_PAX_only</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ6AAM</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Collect_sOR_to_delete</targetReference>
            </connector>
            <label>Yes, Roles on OC PAX only</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOR_sync_confirmed</name>
        <label>sOR sync confirmed</label>
        <locationX>491</locationX>
        <locationY>772</locationY>
        <defaultConnector>
            <targetReference>sOR_is_Roles_on_OC_PAX_only</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False, sync NOT confirmed</defaultConnectorLabel>
        <rules>
            <name>True_sync_confirmed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Sync_confirmed__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Collect_sOR_to_update</targetReference>
            </connector>
            <label>True, sync confirmed</label>
        </rules>
    </decisions>
    <decisions>
        <name>sORparent_has_roles_on_OC_PAX</name>
        <label>sORparent has roles on OC PAX?</label>
        <locationX>1997</locationX>
        <locationY>1035</locationY>
        <defaultConnector>
            <targetReference>Set_sORparent_has_roles_on_PAX</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No roles on PAX</defaultConnectorLabel>
        <rules>
            <name>Yes_already_has_roles</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRoleParent.Has_roles_on_OC_PAX__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOR_has_role_on_Parent</targetReference>
            </connector>
            <label>Yes, already has roles</label>
        </rules>
    </decisions>
    <decisions>
        <name>Spot_pos</name>
        <label>Spot pos</label>
        <locationX>1288</locationX>
        <locationY>189</locationY>
        <defaultConnector>
            <targetReference>ENSI_Perc_set</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Spot position not set</defaultConnectorLabel>
        <rules>
            <name>Spot_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Spot_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>1</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Spot1</targetReference>
            </connector>
            <label>Spot 1</label>
        </rules>
        <rules>
            <name>Spot_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.Spot_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>2</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Spot2</targetReference>
            </connector>
            <label>Spot  2</label>
        </rules>
    </decisions>
    <decisions>
        <name>Sync_monthlies</name>
        <label>Sync Monthlies</label>
        <locationX>23</locationX>
        <locationY>1430</locationY>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Sync_monthlies_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vSyncMonthlies</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PauseBeforeInvoices</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <formulas>
        <name>fOrFacCountLabel</name>
        <dataType>String</dataType>
        <expression>IF({!vOrFacCount} &gt; 0,TEXT({!vOrFacCount}),&quot;1&quot;)</expression>
    </formulas>
    <interviewLabel>Opportunity Roles sync {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity Roles sync</label>
    <loops>
        <name>Loop_scORparent</name>
        <label>scORparent</label>
        <locationX>1758</locationX>
        <locationY>729</locationY>
        <assignNextValueToReference>sOpportunityRoleParent</assignNextValueToReference>
        <collectionReference>scOpportunityRolesParent</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Match_Contact_on_Roles</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Reset_scORparent</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_scORparent_2</name>
        <label>scORparent</label>
        <locationX>490</locationX>
        <locationY>633</locationY>
        <assignNextValueToReference>sOpportunityRoleParent</assignNextValueToReference>
        <collectionReference>scOpportunityRolesParent</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Find_duplicates</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>sOR_sync_confirmed</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_sOpps</name>
        <label>sOpps</label>
        <locationX>25</locationX>
        <locationY>185</locationY>
        <assignNextValueToReference>sOpportunity</assignNextValueToReference>
        <collectionReference>scOpportunities</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Reset_sOpp</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>If_scORprocessed_NULL</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>scOppChildren</name>
        <label>scOppChildren</label>
        <locationX>1289</locationX>
        <locationY>21</locationY>
        <assignNextValueToReference>sOpportunityChild</assignNextValueToReference>
        <collectionReference>scOpportunityChildren</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Set_roles_comparator</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Loop_sOpps</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>scOR</name>
        <label>scOR</label>
        <locationX>394</locationX>
        <locationY>521</locationY>
        <assignNextValueToReference>sOpportunityRole</assignNextValueToReference>
        <collectionReference>scOpportunityRoles</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Reset_sOR_sync_confirmed</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_sOpp_count</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>scORprocessed</name>
        <label>scORprocessed</label>
        <locationX>291</locationX>
        <locationY>829</locationY>
        <assignNextValueToReference>sOpportunityRole</assignNextValueToReference>
        <collectionReference>scOpportunityRolesProcessed</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_sOR_duplicates</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_sOR_create</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>sOR_create</name>
        <label>sOR create</label>
        <locationX>294</locationX>
        <locationY>1028</locationY>
        <connector>
            <targetReference>Check_sOR_update</targetReference>
        </connector>
        <inputReference>scOpportunityRolesCreate</inputReference>
    </recordCreates>
    <recordDeletes>
        <name>sOR_delete</name>
        <label>sOR delete</label>
        <locationX>290</locationX>
        <locationY>1221</locationY>
        <connector>
            <targetReference>Update_sOpps</targetReference>
        </connector>
        <inputReference>scOpportunityRolesDelete</inputReference>
    </recordDeletes>
    <recordLookups>
        <name>Find_scOppChildren</name>
        <label>Find scOppChildren</label>
        <locationX>837</locationX>
        <locationY>18</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_scOppChildren_NULL</targetReference>
        </connector>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>scOpportunityChildren</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Parent_Opportunity__c</queriedFields>
        <queriedFields>Monthlies_syncing__c</queriedFields>
        <queriedFields>Opportunity_Roles_count__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_scOR</name>
        <label>Find scOR</label>
        <locationX>388</locationX>
        <locationY>193</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_scOR_NULL</targetReference>
        </connector>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>sOpportunity.Id</elementReference>
            </value>
        </filters>
        <object>Opportunity_Role__c</object>
        <outputReference>scOpportunityRoles</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Sell_position__c</queriedFields>
        <queriedFields>Spot_position__c</queriedFields>
        <queriedFields>Facilitator_position__c</queriedFields>
        <queriedFields>Contact__c</queriedFields>
        <queriedFields>Has_roles_on_OC_PAX__c</queriedFields>
        <queriedFields>perc_comm_mat_ENSI__c</queriedFields>
        <queriedFields>perc_comm_serv_ENSI__c</queriedFields>
        <queriedFields>Referrer_account__c</queriedFields>
        <queriedFields>Referrer_type__c</queriedFields>
        <queriedFields>perc_comm_ref__c</queriedFields>
        <queriedFields>perc_comm_serv_fac__c</queriedFields>
        <queriedFields>perc_comm_serv_sell__c</queriedFields>
        <queriedFields>perc_comm_serv_spot__c</queriedFields>
        <queriedFields>perc_comm_mat_sell__c</queriedFields>
        <queriedFields>perc_comm_mat_spot__c</queriedFields>
        <queriedFields>RecordTypeId</queriedFields>
        <queriedFields>Has_role_on_OC_Parent__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_sOpp</name>
        <label>Find sOpp</label>
        <locationX>33</locationX>
        <locationY>14</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Auto_refresh</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>sOpportunity</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Parent_Opportunity__c</queriedFields>
        <queriedFields>Monthlies_syncing__c</queriedFields>
        <queriedFields>Automatic_refresh__c</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>sOR_update</name>
        <label>sOR update</label>
        <locationX>297</locationX>
        <locationY>1120</locationY>
        <connector>
            <targetReference>Check_sOR_delete</targetReference>
        </connector>
        <inputReference>scOpportunityRolesUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_sOpps</name>
        <label>sOpps</label>
        <locationX>21</locationX>
        <locationY>1326</locationY>
        <connector>
            <targetReference>Sync_monthlies</targetReference>
        </connector>
        <inputReference>scOpportunitiesUpdate</inputReference>
    </recordUpdates>
    <startElementReference>Find_sOpp</startElementReference>
    <status>Active</status>
    <subflows>
        <name>Opp_closed_won_flows</name>
        <label>Opp, closed won flows</label>
        <locationX>290</locationX>
        <locationY>1535</locationY>
        <flowName>Opportunity_closed_won_flows</flowName>
        <inputAssignments>
            <name>vOpportunityId</name>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vSkipOpe</name>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vOppAutoRefresh</name>
            <value>
                <elementReference>vOppAutoRefresh</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>vOpportunityId</assignToReference>
            <name>vOpportunityId</name>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>vSkipOpe</assignToReference>
            <name>vSkipOpe</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>scOpportunities</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>scOpportunitiesUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>scOpportunityChildren</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoles</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesCreate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesDelete</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesEmpty</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesFromChild</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesFromChildren</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesFromChildrenProcessed</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesParent</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesProcessed</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>sOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>sOpportunityChild</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>sOpportunityRole</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityRoleFresh</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityRoleFromChild</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityRoleParent</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityRoleProcessed</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>vChildExistOnParent</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vOppAutoRefresh</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>vOpportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>vOrFacCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>vSkipOpe</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vSyncMonthlies</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vWaitDeliveryStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <waits>
        <name>PauseBeforeInvoices</name>
        <label>PauseBeforeInvoices</label>
        <locationX>25</locationX>
        <locationY>1543</locationY>
        <defaultConnectorLabel>[Default Path]</defaultConnectorLabel>
        <waitEvents>
            <name>WaitOneMinute</name>
            <conditionLogic>and</conditionLogic>
            <connector>
                <targetReference>Opp_closed_won_flows</targetReference>
            </connector>
            <eventType>DateRefAlarmEvent</eventType>
            <inputParameters>
                <name>EntityObjectId</name>
                <value>
                    <elementReference>vOpportunityId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeFieldColumnEnumOrId</name>
                <value>
                    <stringValue>Wait_base_time_1_minute__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeTableColumnEnumOrId</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffset</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffsetUnit</name>
                <value>
                    <stringValue>Hours</stringValue>
                </value>
            </inputParameters>
            <label>WaitOneMinute</label>
            <outputParameters>
                <assignToReference>vWaitDeliveryStatus</assignToReference>
                <name>Status</name>
            </outputParameters>
        </waitEvents>
    </waits>
</Flow>
