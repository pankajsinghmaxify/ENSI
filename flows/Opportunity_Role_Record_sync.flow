<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Collect_sORforRT</name>
        <label>Collect sORforRT</label>
        <locationX>1234</locationX>
        <locationY>6</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoles</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRole</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scORforRT</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sORR_0</name>
        <label>Collect sORR</label>
        <locationX>1121</locationX>
        <locationY>1216</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsNew</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRoleRecord</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOR_sOPE_spot</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sORR_0_0</name>
        <label>Collect sORR</label>
        <locationX>1111</locationX>
        <locationY>1470</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsNew</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRoleRecord</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOR_sOPE_fac</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sORR_0_1</name>
        <label>Collect sORR</label>
        <locationX>585</locationX>
        <locationY>1224</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsNew</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRoleRecord</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOpportunityRoleRecordsNew_NULL</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sORR_create_1</name>
        <label>Collect sORR create</label>
        <locationX>408</locationX>
        <locationY>1810</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsCreate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRoleRecordNew</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scOpportunityRoleRecordsNew</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sORR_update_1</name>
        <label>Collect sORR update</label>
        <locationX>1550</locationX>
        <locationY>1920</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityRoleRecordNew</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sORRNewExists</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scORRforOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sORRforOR_delete</name>
        <label>Collect sORRforOR delete</label>
        <locationX>969</locationX>
        <locationY>1966</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsDelete</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sORRforOR</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scORRforOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Init_cORRecordTypes</name>
        <label>Init. cORRecordTypes</label>
        <locationX>590</locationX>
        <locationY>10</locationY>
        <assignmentItems>
            <assignToReference>cRoleRecordTypeIds</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>0121r000000xEZ4AAM</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>cRoleRecordTypeIds</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>0121r000000xEZ3AAM</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_cORRT</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>ORR_grab_id</name>
        <label>Grab Id</label>
        <locationX>1407</locationX>
        <locationY>1983</locationY>
        <assignmentItems>
            <assignToReference>sORRNewExists</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Touch__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_update_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Override_New_ORR_both</name>
        <label>Override New ORR both</label>
        <locationX>1408</locationX>
        <locationY>2069</locationY>
        <assignmentItems>
            <assignToReference>sORRNewExists</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.fac_days__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.fac_days__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.perc_comm__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Facilitator_days_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Facilitator_days_set_manually__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.perc_comm_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.perc_comm_set_manually__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Role_record_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Role_record_set_manually__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_update_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Override_New_ORR_days</name>
        <label>Override New ORR days</label>
        <locationX>1409</locationX>
        <locationY>2151</locationY>
        <assignmentItems>
            <assignToReference>sORRNewExists</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.fac_days__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.fac_days__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Facilitator_days_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Facilitator_days_set_manually__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Role_record_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Role_record_set_manually__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_update_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Override_New_ORR_perc</name>
        <label>Override New ORR %</label>
        <locationX>1411</locationX>
        <locationY>2238</locationY>
        <assignmentItems>
            <assignToReference>sORRNewExists</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.perc_comm__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.perc_comm_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.perc_comm_set_manually__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecordNew.Role_record_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sORRforOR.Role_record_set_manually__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_update_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Override_vOppAutoRefresh</name>
        <label>Override vOppAutoRefresh</label>
        <locationX>455</locationX>
        <locationY>323</locationY>
        <assignmentItems>
            <assignToReference>vOppAutoRefresh</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunity.Automatic_refresh__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Automatic_refresh__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Auto_refresh</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Recollect_sORRforOR</name>
        <label>Recollect sORRforOR</label>
        <locationX>785</locationX>
        <locationY>2075</locationY>
        <assignmentItems>
            <assignToReference>scORRforORreset</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sORRforOR</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scORRforOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_for_scORRforOR</name>
        <label>Reset for scORRforOR</label>
        <locationX>793</locationX>
        <locationY>1808</locationY>
        <assignmentItems>
            <assignToReference>scORRforORreset</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scORRempty</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sORRNewExists</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scORRforOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_for_scORRforOR_0</name>
        <label>Reset for scORRforOR</label>
        <locationX>237</locationX>
        <locationY>1917</locationY>
        <assignmentItems>
            <assignToReference>scORRforOR</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scORRforORreset</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sORRnew_exists</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_OrCurrent</name>
        <label>Reset OrCurrent</label>
        <locationX>428</locationX>
        <locationY>705</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.ORR_Sync_current_OR__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scOPE</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_sOrrDelete</name>
        <label>Reset sOrrDelete</label>
        <locationX>2107</locationX>
        <locationY>958</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsDelete</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scORRempty</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_ALL_scORR_no_sOPE</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_sOrrDelete_1</name>
        <label>Reset sOrrDelete</label>
        <locationX>2109</locationX>
        <locationY>773</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsDelete</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scORRempty</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_ALL_scORR_no_sOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_OrCurrent</name>
        <label>Set OrCurrent</label>
        <locationX>430</locationX>
        <locationY>479</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.ORR_Sync_current_OR__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scOR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_All_Done</name>
        <label>Set sOpp All Done</label>
        <locationX>338</locationX>
        <locationY>203</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Products_sync_status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>All done</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Split_fees_and_invoices_sync_status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>All done</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sync_in_progress__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_sOpp_sync_All_done</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_Sync_Large</name>
        <label>Set sOpp Sync=Large</label>
        <locationX>2113</locationX>
        <locationY>1296</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Products_sync_status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Large batch sync (30mins)</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_sOpp_status_Large</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOR_count</name>
        <label>sOR count</label>
        <locationX>184</locationX>
        <locationY>603</locationY>
        <assignmentItems>
            <assignToReference>vOppRoleCount</assignToReference>
            <operator>Add</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>OR_Sync_control</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_default_count</name>
        <label>sORR default, +count</label>
        <locationX>496</locationX>
        <locationY>793</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.OPE_code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProductExtension.OPE_code__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Opportunity_Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.OPE__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProductExtension.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Facilitator_days_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_record_set_manually__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Recognised__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Sync_updated__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Recognised__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>scOpportunityRoleRecordsNew</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scORRempty</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>If_sOPE_recog_date_passed</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_ENSi_sOPEmaterial</name>
        <label>sORR ENSi sOPE material</label>
        <locationX>737</locationX>
        <locationY>1080</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>ENSI</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_ad_hoc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} ENSI</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_ENSI__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_ENSI__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_ENSi_sOPEservice</name>
        <label>sORR ENSi sOPE service</label>
        <locationX>733</locationX>
        <locationY>994</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>ENSI</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_ad_hoc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} ENSI</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_ENSI__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_ENSI__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_Fac_sOPEFacfee</name>
        <label>sORR Fac. sOPE Fac fee</label>
        <locationX>740</locationX>
        <locationY>1362</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Facilitator</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Facilitator_position__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRole.perc_comm_ad_hoc_day_fac__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} F{!sOpportunityRole.Facilitator_position__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>100.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>100.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_Fac_sOPEservice</name>
        <label>sORR Fac. sOPE service</label>
        <locationX>738</locationX>
        <locationY>1261</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Facilitator</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Facilitator_position__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRole.perc_comm_ad_hoc_day_fac__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_ad_hoc_day_fac__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} F{!sOpportunityRole.Facilitator_position__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_fac__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_fac__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_ad_hoc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_ad_hoc_day_fac__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0_1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_recognise</name>
        <label>sORR recognise</label>
        <locationX>954</locationX>
        <locationY>793</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Recognised__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOR_sOPE_ENSi</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_Sell_sOPEFacfee</name>
        <label>sORR Sell sOPE Fac fee</label>
        <locationX>1293</locationX>
        <locationY>1098</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Sell</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Sell_position__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_total_comm_serv_as_sell__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRole.perc_comm_ad_hoc_day_fac__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} S{!sOpportunityRole.Sell_position__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_Sell_sOPEmaterial</name>
        <label>sORR Sell sOPE material</label>
        <locationX>1290</locationX>
        <locationY>1002</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Sell</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Sell_position__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_total_comm_mat_as_sell__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_ad_hoc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} S{!sOpportunityRole.Sell_position__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_sell__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_sell__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_Sell_sOPEservice</name>
        <label>sORR Sell sOPE service</label>
        <locationX>1293</locationX>
        <locationY>908</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Sell</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Sell_position__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_total_comm_serv_as_sell__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_ad_hoc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} S{!sOpportunityRole.Sell_position__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_sell__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_sell__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_Spot_sOPEFacfee</name>
        <label>sORR Spot sOPE Fac fee</label>
        <locationX>1282</locationX>
        <locationY>1515</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Spot</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Spot_position__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_total_comm_serv_as_spot__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRole.perc_comm_ad_hoc_day_fac__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} Sp{!sOpportunityRole.Spot_position__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_Spot_sOPEmaterial</name>
        <label>sORR Spot sOPE material</label>
        <locationX>1282</locationX>
        <locationY>1427</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Spot</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Spot_position__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_total_comm_mat_as_spot__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_ad_hoc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} Sp{!sOpportunityRole.Spot_position__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_spot__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_mat_spot__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sORR_Spot_sOPEservice</name>
        <label>sORR Spot sOPE service</label>
        <locationX>1282</locationX>
        <locationY>1346</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Spot</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Role_position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.Spot_position__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_of_total_fee_split__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_total_comm_serv_as_spot__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_ad_hoc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProductExtension.Shared_ID__c} {!sOpportunityProductExtension.OPE_code__c} Sp{!sOpportunityRole.Spot_position__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm_role__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_spot__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityRoleRecord.perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityRole.perc_comm_serv_spot__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sORR_0_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>WaitDeliveryStatus_Pending</name>
        <label>WaitDeliveryStatus = Pending</label>
        <locationX>1841</locationX>
        <locationY>1201</locationY>
        <assignmentItems>
            <assignToReference>vWaitEventStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Pending</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Large_Batch</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Auto_refresh</name>
        <label>Auto refresh</label>
        <locationX>251</locationX>
        <locationY>322</locationY>
        <defaultConnector>
            <targetReference>Loop_scOR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No refresh</defaultConnectorLabel>
        <rules>
            <name>Auto_refresh_From_sOpp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.Automatic_refresh__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Override_vOppAutoRefresh</targetReference>
            </connector>
            <label>From sOpp</label>
        </rules>
        <rules>
            <name>Auto_refresh_Role_Records</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vOppAutoRefresh</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Role Records</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Find_All_sORR</targetReference>
            </connector>
            <label>Role Records</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_scORRcreate</name>
        <label>Check scORRcreate</label>
        <locationX>1839</locationX>
        <locationY>548</locationY>
        <defaultConnector>
            <targetReference>Check_scORRdelete_1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scORRcreate NULL</defaultConnectorLabel>
        <rules>
            <name>scORRcreate_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRoleRecordsCreate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_scORRcreate</targetReference>
            </connector>
            <label>scORRcreate NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_scORRdelete</name>
        <label>Check scORRdelete</label>
        <locationX>1840</locationX>
        <locationY>860</locationY>
        <defaultConnector>
            <targetReference>Find_ALL_scORR_no_sOPE</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scORRdelete NULL</defaultConnectorLabel>
        <rules>
            <name>scORRdelete_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRoleRecordsDelete</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_scORRdelete</targetReference>
            </connector>
            <label>scORRdelete NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_scORRdelete_0</name>
        <label>Check scORRdelete</label>
        <locationX>1839</locationX>
        <locationY>1077</locationY>
        <defaultConnector>
            <targetReference>WaitDeliveryStatus_Pending</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scORRdelete NULL</defaultConnectorLabel>
        <rules>
            <name>scORRdelete_NOT_NULL_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRoleRecordsDelete</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_scORRdelete_0</targetReference>
            </connector>
            <label>scORRdelete NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_scORRdelete_1</name>
        <label>Check scORRdelete</label>
        <locationX>1843</locationX>
        <locationY>652</locationY>
        <defaultConnector>
            <targetReference>Find_ALL_scORR_no_sOR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scORRdelete NULL</defaultConnectorLabel>
        <rules>
            <name>scORRdelete_NOT_NULL_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRoleRecordsDelete</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_scORRdelete_1</targetReference>
            </connector>
            <label>scORRdelete NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_scORRupdate</name>
        <label>Check scORRupdate</label>
        <locationX>1828</locationX>
        <locationY>438</locationY>
        <defaultConnector>
            <targetReference>Check_scORRcreate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scORRupdate NULL</defaultConnectorLabel>
        <rules>
            <name>scORRupdate_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRoleRecordsUpdate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scORRupdate</targetReference>
            </connector>
            <label>scORRupdateNOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_sOPE_recog_date_passed</name>
        <label>If sOPE recog. date passed</label>
        <locationX>698</locationX>
        <locationY>792</locationY>
        <defaultConnector>
            <targetReference>sOR_sOPE_ENSi</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Do not recognise</defaultConnectorLabel>
        <rules>
            <name>Yes_recog_date_passed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.rec_date__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.rec_date__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Closed Won</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_recognise</targetReference>
            </connector>
            <label>Yes, recognise</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Ad_Hoc_Master</name>
        <label>Is Ad Hoc Master</label>
        <locationX>300</locationX>
        <locationY>790</locationY>
        <defaultConnector>
            <targetReference>sORR_default_count</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Is_Ad_Hoc_Master_true</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_is_Ad_Hoc__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.Parent_OPE__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Find_scORRforOR_OPE_0</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Large_Batch</name>
        <label>Large Batch</label>
        <locationX>1844</locationX>
        <locationY>1296</locationY>
        <defaultConnector>
            <targetReference>PauseBeforeSubFlows</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Large_Batch_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fBatchSizeLarge</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOpp_Sync_Large</targetReference>
            </connector>
            <label>True</label>
        </rules>
        <rules>
            <name>Large_Batch_True_first</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fBatchSizeLarge</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.Products_sync_status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Large batch sync (1-2 hrs)</stringValue>
                </rightValue>
            </conditions>
            <label>True, first time</label>
        </rules>
        <rules>
            <name>Large_Batch_subsequent</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fBatchSizeLarge</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.Products_sync_status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Large batch sync (1-2 hrs)</stringValue>
                </rightValue>
            </conditions>
            <label>True, subsequent times</label>
        </rules>
    </decisions>
    <decisions>
        <name>OR_current_NULL</name>
        <label>OR current NULL</label>
        <locationX>1852</locationX>
        <locationY>1609</locationY>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>OR_current_NULL_True</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.ORR_Sync_current_OR__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.ORR_Sync_current_OR__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Opportunity_Product_Extension_Roll_up</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>OR_Sync_control</name>
        <label>OR Sync control</label>
        <locationX>429</locationX>
        <locationY>602</locationY>
        <defaultConnector>
            <targetReference>Loop_scOPE</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Continue</defaultConnectorLabel>
        <rules>
            <name>Small_batch</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fBatchSizeLarge</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_scOPE</targetReference>
            </connector>
            <label>Small batch</label>
        </rules>
        <rules>
            <name>Current_set_not_current</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.ORR_Sync_current_OR__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.ORR_Sync_current_OR__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Id</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>sOpportunity.ORR_Sync_current_OR__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_scOR</targetReference>
            </connector>
            <label>Current set, not current</label>
        </rules>
        <rules>
            <name>Current_set_is_current</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.ORR_Sync_current_OR__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.ORR_Sync_current_OR__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sOpportunity.ORR_Sync_current_OR__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_OrCurrent</targetReference>
            </connector>
            <label>Current set, is current</label>
        </rules>
        <rules>
            <name>Pause_on_this_OR</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fOrCountMod</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_OrCurrent</targetReference>
            </connector>
            <label>Pause on this OR</label>
        </rules>
    </decisions>
    <decisions>
        <name>scOPE_NULL</name>
        <label>scOPE NULL</label>
        <locationX>340</locationX>
        <locationY>10</locationY>
        <defaultConnector>
            <targetReference>Set_sOpp_All_Done</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scOPE NULL</defaultConnectorLabel>
        <rules>
            <name>scOPE_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProductExtensions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Init_cORRecordTypes</targetReference>
            </connector>
            <label>scOPE NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>scOpportunityRoleRecordsNew_NULL</name>
        <label>scOpportunityRoleRecordsNew NULL</label>
        <locationX>587</locationX>
        <locationY>1462</locationY>
        <defaultConnector>
            <targetReference>Find_scORRforOR_OPE</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>scOpportunityRoleRecordsNew_NULL_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRoleRecordsNew</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_scOPE</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>scOR_NULL</name>
        <label>scOR NULL</label>
        <locationX>88</locationX>
        <locationY>202</locationY>
        <defaultConnector>
            <targetReference>Set_sOpp_All_Done</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scOR NULL</defaultConnectorLabel>
        <rules>
            <name>scOR_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRoles</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp</targetReference>
            </connector>
            <label>scOR NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>scOrrDeleteAll_NULL</name>
        <label>scOrrDeleteAll NULL</label>
        <locationX>637</locationX>
        <locationY>322</locationY>
        <defaultConnector>
            <targetReference>Delete_All_sORR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>scOrrDeleteAll_NULL_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOrrDeleteAll</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_scOR</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>scORRforOR_NULL_1</name>
        <label>scORRforOR NULL</label>
        <locationX>585</locationX>
        <locationY>1810</locationY>
        <defaultConnector>
            <targetReference>Reset_for_scORRforOR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>scORRforOR_NULL_True_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scORRforOR</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Collect_sORR_create_1</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>scORRforOR_NULL_1_0</name>
        <label>scORRforOR NULL</label>
        <locationX>357</locationX>
        <locationY>979</locationY>
        <defaultConnector>
            <targetReference>Delete_scORRdelete_0_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>scORRforOR_NULL_True_1_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scORRforOR</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_scOPE</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOR_sOPE_ENSi</name>
        <label>sOR sOPE ENSi</label>
        <locationX>955</locationX>
        <locationY>929</locationY>
        <defaultConnector>
            <targetReference>sOR_sOPE_sell</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No match</defaultConnectorLabel>
        <rules>
            <name>ENSI_service_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ3AAM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Service</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_ENSi_sOPEservice</targetReference>
            </connector>
            <label>ENSI service</label>
        </rules>
        <rules>
            <name>ENSI_material_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRole.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000xEZ3AAM</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Material</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_ENSi_sOPEmaterial</targetReference>
            </connector>
            <label>ENSI material</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOR_sOPE_fac</name>
        <label>sOR sOPE fac</label>
        <locationX>955</locationX>
        <locationY>1469</locationY>
        <defaultConnector>
            <targetReference>scOpportunityRoleRecordsNew_NULL</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No match</defaultConnectorLabel>
        <rules>
            <name>Fac_service</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Service</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Facilitator_position__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_Fac_sOPEservice</targetReference>
            </connector>
            <label>Fac service</label>
        </rules>
        <rules>
            <name>Fac_fac_fee</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Facilitator (100%) fee</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Facilitator_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sOpportunityProductExtension.OP_Facilitator_Position__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Facilitator_position__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_Fac_sOPEFacfee</targetReference>
            </connector>
            <label>Fac fac fee</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOR_sOPE_sell</name>
        <label>sOR sOPE sell</label>
        <locationX>955</locationX>
        <locationY>1076</locationY>
        <defaultConnector>
            <targetReference>sOR_sOPE_spot</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No match</defaultConnectorLabel>
        <rules>
            <name>Sell_service_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Service</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Sell_position__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_Sell_sOPEservice</targetReference>
            </connector>
            <label>Sell service</label>
        </rules>
        <rules>
            <name>Sell_material_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Material</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Sell_position__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_Sell_sOPEmaterial</targetReference>
            </connector>
            <label>Sell material</label>
        </rules>
        <rules>
            <name>Sell_fac_fee</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Facilitator (100%) fee</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Sell_position__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_Sell_sOPEFacfee</targetReference>
            </connector>
            <label>Sell fac fee</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOR_sOPE_spot</name>
        <label>sOR sOPE spot</label>
        <locationX>954</locationX>
        <locationY>1215</locationY>
        <defaultConnector>
            <targetReference>sOR_sOPE_fac</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No match</defaultConnectorLabel>
        <rules>
            <name>Spot_service_0_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Service</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Spot_position__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_Spot_sOPEservice</targetReference>
            </connector>
            <label>Spot service</label>
        </rules>
        <rules>
            <name>Spot_material_0_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Material</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Spot_position__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_Spot_sOPEmaterial</targetReference>
            </connector>
            <label>Spot material</label>
        </rules>
        <rules>
            <name>Spot_fac_fee</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.OP_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Facilitator (100%) fee</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRole.Spot_position__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_Spot_sOPEFacfee</targetReference>
            </connector>
            <label>Spot fac fee</label>
        </rules>
    </decisions>
    <decisions>
        <name>sORforRT_NULL</name>
        <label>sORforRT NULL</label>
        <locationX>1013</locationX>
        <locationY>129</locationY>
        <defaultConnector>
            <targetReference>Loop_cORRT</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>sORforRT NULL</defaultConnectorLabel>
        <rules>
            <name>sORforRT_NOT_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityRolesForRecordType</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_scORforRT</targetReference>
            </connector>
            <label>sORforRT NOT NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>sORR_manual_override</name>
        <label>sORR manual override</label>
        <locationX>1132</locationX>
        <locationY>2077</locationY>
        <defaultConnector>
            <targetReference>ORR_grab_id</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Unused default</defaultConnectorLabel>
        <rules>
            <name>sORR_manual_override_Fac_days_and_split</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sORRforOR.Facilitator_days_set_manually__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sORRforOR.perc_comm_set_manually__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Override_New_ORR_both</targetReference>
            </connector>
            <label>Fac days and % split</label>
        </rules>
        <rules>
            <name>sORR_manual_override_Fac_days_not_split</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sORRforOR.Facilitator_days_set_manually__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sORRforOR.perc_comm_set_manually__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Override_New_ORR_days</targetReference>
            </connector>
            <label>Fac days not % split</label>
        </rules>
        <rules>
            <name>sORR_manual_override_split_not_fac_days</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sORRforOR.Facilitator_days_set_manually__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sORRforOR.perc_comm_set_manually__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Override_New_ORR_perc</targetReference>
            </connector>
            <label>% split not fac days</label>
        </rules>
        <rules>
            <name>sORR_manual_override_Neither</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sORRforOR.Facilitator_days_set_manually__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sORRforOR.perc_comm_set_manually__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ORR_grab_id</targetReference>
            </connector>
            <label>Neither</label>
        </rules>
    </decisions>
    <decisions>
        <name>sORR_match</name>
        <label>sORR match</label>
        <locationX>966</locationX>
        <locationY>2081</locationY>
        <defaultConnector>
            <targetReference>Recollect_sORRforOR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>sORR_match_True_but_match_found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRoleRecordNew.Role__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sORRforOR.Role__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRoleRecordNew.OPE__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sORRforOR.OPE__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRoleRecordNew.Opportunity_Role__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sORRforOR.Opportunity_Role__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRoleRecordNew.Role_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sORRforOR.Role_position__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sORRNewExists</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Collect_sORRforOR_delete</targetReference>
            </connector>
            <label>True, but match found</label>
        </rules>
        <rules>
            <name>sORR_match_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityRoleRecordNew.Role__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sORRforOR.Role__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRoleRecordNew.OPE__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sORRforOR.OPE__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRoleRecordNew.Opportunity_Role__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sORRforOR.Opportunity_Role__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityRoleRecordNew.Role_position__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sORRforOR.Role_position__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sORR_manual_override</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>sORRnew_exists</name>
        <label>sORRnew exists</label>
        <locationX>240</locationX>
        <locationY>1815</locationY>
        <defaultConnector>
            <targetReference>Collect_sORR_create_1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>sORRnew_exists_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sORRNewExists</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Loop_scOpportunityRoleRecordsNew</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <formulas>
        <description>An estimate of the number of ORRs there could be from the combinstion of ORs and OPs.</description>
        <name>fBatchSizeLarge</name>
        <dataType>Boolean</dataType>
        <expression>IF(
  (({!sOpportunity.Opportunity_Roles_count__c}*2)-1)*{!sOpportunity.OPE_count__c}&gt;50,
  True,
  False
)</expression>
    </formulas>
    <formulas>
        <name>fOrCountMod</name>
        <dataType>Number</dataType>
        <expression>MOD({!vOppRoleCount},2)</expression>
        <scale>0</scale>
    </formulas>
    <interviewLabel>Opportunity Role Record sync {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity Role Record sync</label>
    <loops>
        <name>Loop_cORRT</name>
        <label>cORRT</label>
        <locationX>811</locationX>
        <locationY>11</locationY>
        <assignNextValueToReference>vRoleRecordTypeId</assignNextValueToReference>
        <collectionReference>cRoleRecordTypeIds</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Find_sORforRT</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>scOR_NULL</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_scOPE</name>
        <label>scOPE</label>
        <locationX>83</locationX>
        <locationY>791</locationY>
        <assignNextValueToReference>sOpportunityProductExtension</assignNextValueToReference>
        <collectionReference>scOpportunityProductExtensions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Is_Ad_Hoc_Master</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Loop_scOR</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_scOpportunityRoleRecordsNew</name>
        <label>scOpportunityRoleRecordsNew</label>
        <locationX>587</locationX>
        <locationY>1689</locationY>
        <assignNextValueToReference>sOpportunityRoleRecordNew</assignNextValueToReference>
        <collectionReference>scOpportunityRoleRecordsNew</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>scORRforOR_NULL_1</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Loop_scOPE</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_scOR</name>
        <label>scOR</label>
        <locationX>86</locationX>
        <locationY>424</locationY>
        <assignNextValueToReference>sOpportunityRole</assignNextValueToReference>
        <collectionReference>scOpportunityRoles</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>sOR_count</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_scORRupdate</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_scORforRT</name>
        <label>scORforRT</label>
        <locationX>1010</locationX>
        <locationY>7</locationY>
        <assignNextValueToReference>sOpportunityRole</assignNextValueToReference>
        <collectionReference>scOpportunityRolesForRecordType</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Collect_sORforRT</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Loop_cORRT</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Loop_scORRforOR</name>
        <label>scORRforOR</label>
        <locationX>792</locationX>
        <locationY>1917</locationY>
        <assignNextValueToReference>sORRforOR</assignNextValueToReference>
        <collectionReference>scORRforOR</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>sORR_match</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Reset_for_scORRforOR_0</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_scORRcreate</name>
        <label>Create scORRcreate</label>
        <locationX>2102</locationX>
        <locationY>538</locationY>
        <connector>
            <targetReference>Check_scORRdelete_1</targetReference>
        </connector>
        <inputReference>scOpportunityRoleRecordsCreate</inputReference>
    </recordCreates>
    <recordDeletes>
        <name>Delete_All_sORR</name>
        <label>Delete All sORR</label>
        <locationX>825</locationX>
        <locationY>250</locationY>
        <connector>
            <targetReference>Delete_Records</targetReference>
        </connector>
        <inputReference>scOrrDeleteAll</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_scORRdelete</name>
        <label>Delete scORRdelete</label>
        <locationX>2110</locationX>
        <locationY>858</locationY>
        <connector>
            <targetReference>Reset_sOrrDelete</targetReference>
        </connector>
        <inputReference>scOpportunityRoleRecordsDelete</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_scORRdelete_0</name>
        <label>Delete scORRdelete</label>
        <locationX>2112</locationX>
        <locationY>1080</locationY>
        <connector>
            <targetReference>WaitDeliveryStatus_Pending</targetReference>
        </connector>
        <inputReference>scOpportunityRoleRecordsDelete</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_scORRdelete_0_0</name>
        <label>Delete scORRdelete</label>
        <locationX>357</locationX>
        <locationY>888</locationY>
        <connector>
            <targetReference>Loop_scOPE</targetReference>
        </connector>
        <inputReference>scORRforOR</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_scORRdelete_1</name>
        <label>Delete scORRdelete</label>
        <locationX>2105</locationX>
        <locationY>664</locationY>
        <connector>
            <targetReference>Reset_sOrrDelete_1</targetReference>
        </connector>
        <inputReference>scOpportunityRoleRecordsDelete</inputReference>
    </recordDeletes>
    <recordLookups>
        <name>Find_ALL_scORR_no_sOPE</name>
        <label>Find ALL scORR no sOPE</label>
        <locationX>1838</locationX>
        <locationY>962</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_scORRdelete_0</targetReference>
        </connector>
        <filters>
            <field>OPE__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity_Role_Record__c</object>
        <outputReference>scOpportunityRoleRecordsDelete</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_ALL_scORR_no_sOR</name>
        <label>Find ALL scORR no sOR</label>
        <locationX>1840</locationX>
        <locationY>776</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Check_scORRdelete</targetReference>
        </connector>
        <filters>
            <field>Opportunity_Role__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity_Role_Record__c</object>
        <outputReference>scOpportunityRoleRecordsDelete</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_All_sORR</name>
        <label>Find All sORR</label>
        <locationX>638</locationX>
        <locationY>229</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>scOrrDeleteAll_NULL</targetReference>
        </connector>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity_Role_Record__c</object>
        <outputReference>scOrrDeleteAll</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_scOPE</name>
        <label>Find scOPE</label>
        <locationX>90</locationX>
        <locationY>17</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>scOPE_NULL</targetReference>
        </connector>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity_Product_Extension__c</object>
        <outputReference>scOpportunityProductExtensions</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>OP_Name__c</queriedFields>
        <queriedFields>OP_ID__c</queriedFields>
        <queriedFields>OP_Type__c</queriedFields>
        <queriedFields>OPE_code__c</queriedFields>
        <queriedFields>OP_Facilitator_Position__c</queriedFields>
        <queriedFields>Shared_ID__c</queriedFields>
        <queriedFields>Opportunity__c</queriedFields>
        <queriedFields>rec_date__c</queriedFields>
        <queriedFields>Total_doll_comm_fac_perc__c</queriedFields>
        <queriedFields>Total_doll_comm_fac_ad_hoc__c</queriedFields>
        <queriedFields>Total_doll_comm_mark_perc__c</queriedFields>
        <queriedFields>Total_doll_comm_ENSI_perc__c</queriedFields>
        <queriedFields>Total_doll_rev_rec__c</queriedFields>
        <queriedFields>Total_perc_comm__c</queriedFields>
        <queriedFields>Total_fac_days__c</queriedFields>
        <queriedFields>Total_fac_days_ad_hoc__c</queriedFields>
        <queriedFields>OP_is_Ad_Hoc__c</queriedFields>
        <queriedFields>Parent_OPE__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_scORRforOR_OPE</name>
        <label>scORRforOR+OPE</label>
        <locationX>587</locationX>
        <locationY>1569</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Loop_scOpportunityRoleRecordsNew</targetReference>
        </connector>
        <filters>
            <field>OPE__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>sOpportunityProductExtension.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Opportunity_Role__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>sOpportunityRole.Id</elementReference>
            </value>
        </filters>
        <object>Opportunity_Role_Record__c</object>
        <outputReference>scORRforOR</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Role__c</queriedFields>
        <queriedFields>OPE__c</queriedFields>
        <queriedFields>Opportunity_Role__c</queriedFields>
        <queriedFields>Role_position__c</queriedFields>
        <queriedFields>Facilitator_days_set_manually__c</queriedFields>
        <queriedFields>perc_comm_set_manually__c</queriedFields>
        <queriedFields>Role_record_set_manually__c</queriedFields>
        <queriedFields>fac_days__c</queriedFields>
        <queriedFields>perc_comm__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_scORRforOR_OPE_0</name>
        <label>scORRforOR+OPE</label>
        <locationX>495</locationX>
        <locationY>888</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>scORRforOR_NULL_1_0</targetReference>
        </connector>
        <filters>
            <field>OPE__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>sOpportunityProductExtension.Id</elementReference>
            </value>
        </filters>
        <object>Opportunity_Role_Record__c</object>
        <outputReference>scORRforOR</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_sORforRT</name>
        <label>Find sORforRT</label>
        <locationX>814</locationX>
        <locationY>127</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>sORforRT_NULL</targetReference>
        </connector>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <filters>
            <field>RecordTypeId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vRoleRecordTypeId</elementReference>
            </value>
        </filters>
        <object>Opportunity_Role__c</object>
        <outputReference>scOpportunityRolesForRecordType</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>perc_comm_serv_ENSI__c</queriedFields>
        <queriedFields>perc_comm_serv_fac__c</queriedFields>
        <queriedFields>perc_comm_ad_hoc_day_fac__c</queriedFields>
        <queriedFields>perc_comm_serv_sell__c</queriedFields>
        <queriedFields>perc_comm_serv_spot__c</queriedFields>
        <queriedFields>perc_comm_mat_ENSI__c</queriedFields>
        <queriedFields>perc_comm_mat_sell__c</queriedFields>
        <queriedFields>perc_comm_mat_spot__c</queriedFields>
        <queriedFields>perc_total_comm_serv_as_sell__c</queriedFields>
        <queriedFields>perc_total_comm_serv_as_spot__c</queriedFields>
        <queriedFields>Facilitator_position__c</queriedFields>
        <queriedFields>Sell_position__c</queriedFields>
        <queriedFields>Spot_position__c</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>RecordTypeId</queriedFields>
        <queriedFields>perc_total_comm_mat_as_sell__c</queriedFields>
        <queriedFields>perc_total_comm_mat_as_spot__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>sOpp</name>
        <label>sOpp</label>
        <locationX>87</locationX>
        <locationY>323</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Auto_refresh</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>sOpportunity</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Touch_check_time_1_minute__c</queriedFields>
        <queriedFields>Wait_base_time_1_minute__c</queriedFields>
        <queriedFields>ORR_Sync_current_OR__c</queriedFields>
        <queriedFields>OppProd_count__c</queriedFields>
        <queriedFields>Opportunity_Roles_count__c</queriedFields>
        <queriedFields>Products_sync_status__c</queriedFields>
        <queriedFields>OPE_count__c</queriedFields>
        <queriedFields>Automatic_refresh__c</queriedFields>
        <queriedFields>StageName</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>scORRupdate</name>
        <label>scORRupdate</label>
        <locationX>2100</locationX>
        <locationY>441</locationY>
        <connector>
            <targetReference>Check_scORRcreate</targetReference>
        </connector>
        <inputReference>scOpportunityRoleRecordsUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_sOpp_resync_ORR</name>
        <label>sOpp resync ORR</label>
        <locationX>1848</locationX>
        <locationY>1510</locationY>
        <connector>
            <targetReference>OR_current_NULL</targetReference>
        </connector>
        <inputReference>sOpportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_sOpp_status_Large</name>
        <label>sOpp status Large</label>
        <locationX>2114</locationX>
        <locationY>1400</locationY>
        <connector>
            <targetReference>PauseBeforeSubFlows</targetReference>
        </connector>
        <inputReference>sOpportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_sOpp_sync_All_done</name>
        <label>Update sOpp sync All done</label>
        <locationX>492</locationX>
        <locationY>202</locationY>
        <inputReference>sOpportunity</inputReference>
    </recordUpdates>
    <startElementReference>Find_scOPE</startElementReference>
    <status>Active</status>
    <subflows>
        <name>Opportunity_Product_Extension_Roll_up</name>
        <label>Opportunity Product Extension Roll-up</label>
        <locationX>1855</locationX>
        <locationY>1712</locationY>
        <flowName>Opportunity_Product_Extension_Roll_up</flowName>
        <inputAssignments>
            <name>vOpportunityId</name>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>scOpportunityProductExtensions</name>
            <value>
                <elementReference>scOpportunityProductExtensions</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>scOpportunityProductExtensions</assignToReference>
            <name>scOpportunityProductExtensions</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>cRoleRecordTypeIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>scOpportunityProductExtensions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecords</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecordsCreate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecordsDelete</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecordsManual</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecordsNew</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecordsUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoles</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRolesForRecordType</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>scOrrDeleteAll</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scORRempty</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scORRforOR</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scORRforORreset</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>sOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>sOpportunityProductExtension</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityRole</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityRoleRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityRoleRecordManual</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityRoleRecordNew</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>sORRforOR</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>sORRNewExists</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vDebugChatterId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vOppAutoRefresh</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>vOpportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>vOppRoleCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>vRoleRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>vsOrrFoundInUpdate</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vWaitEventStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <waits>
        <name>Delete_Records</name>
        <label>Delete Records</label>
        <locationX>824</locationX>
        <locationY>373</locationY>
        <defaultConnectorLabel>[Default Path]</defaultConnectorLabel>
        <waitEvents>
            <name>WaitOneMinute_delete</name>
            <conditionLogic>and</conditionLogic>
            <connector>
                <targetReference>Loop_scOR</targetReference>
            </connector>
            <eventType>DateRefAlarmEvent</eventType>
            <inputParameters>
                <name>EntityObjectId</name>
                <value>
                    <elementReference>vOpportunityId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeFieldColumnEnumOrId</name>
                <value>
                    <stringValue>Wait_base_time_1_minute__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeTableColumnEnumOrId</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <label>WaitOneMinute</label>
            <outputParameters>
                <assignToReference>vWaitEventStatus</assignToReference>
                <name>Status</name>
            </outputParameters>
        </waitEvents>
    </waits>
    <waits>
        <name>PauseBeforeSubFlows</name>
        <label>PauseBeforeSubFlows</label>
        <locationX>1844</locationX>
        <locationY>1401</locationY>
        <defaultConnectorLabel>Default</defaultConnectorLabel>
        <waitEvents>
            <name>WaitOneMinute</name>
            <conditionLogic>and</conditionLogic>
            <connector>
                <targetReference>Update_sOpp_resync_ORR</targetReference>
            </connector>
            <eventType>DateRefAlarmEvent</eventType>
            <inputParameters>
                <name>EntityObjectId</name>
                <value>
                    <elementReference>vOpportunityId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeFieldColumnEnumOrId</name>
                <value>
                    <stringValue>Wait_base_time_1_minute__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeTableColumnEnumOrId</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffset</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffsetUnit</name>
                <value>
                    <stringValue>Hours</stringValue>
                </value>
            </inputParameters>
            <label>WaitOneMinute</label>
            <outputParameters>
                <assignToReference>vWaitEventStatus</assignToReference>
                <name>Status</name>
            </outputParameters>
        </waitEvents>
    </waits>
</Flow>
