<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>Catch_code</name>
        <label>sOP catch code</label>
        <locationX>540</locationX>
        <locationY>603</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code_current__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.OPE_code__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_sOP_NIP</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Catch_reset_code</name>
        <label>sOP catch, reset code</label>
        <locationX>1280</locationX>
        <locationY>493</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code_current__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.OPE_code__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOP_Code_Name</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_new_sOPEfresh</name>
        <label>Collect new sOPEfresh</label>
        <locationX>696</locationX>
        <locationY>1063</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsReset</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProductExtensionFresh</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_scOPE_to_new_batch</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_scOPE_delete</name>
        <label>Collect scOPE Delete</label>
        <locationX>521</locationX>
        <locationY>1799</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsDelete</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProductExtension</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOPE_create_update_delete</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_scOPE_update</name>
        <label>Collect scOPE Update</label>
        <locationX>522</locationX>
        <locationY>1587</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProductExtension</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOPE_create_update_delete</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_scOPEdelete</name>
        <label>Collect scOPEdelete</label>
        <locationX>72</locationX>
        <locationY>13</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsDelete</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scOpportunityProductExtensions</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_sOPE_delete</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sOPE</name>
        <label>Collect sOPE</label>
        <locationX>547</locationX>
        <locationY>1304</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsReset</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProductExtension</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scOPE</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sOPE_Reset</name>
        <label>Collect sOPE_Reset</label>
        <locationX>1147</locationX>
        <locationY>397</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsReset</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProductExtension</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOPE</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sOPEcreate</name>
        <label>Collect sOPE create</label>
        <locationX>695</locationX>
        <locationY>1642</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsCreate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProductExtension</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOPE_create_update_delete</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_sOPupdate</name>
        <label>Collect sOPupdate</label>
        <locationX>1201</locationX>
        <locationY>639</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductsUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProduct</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_sOP_NIP</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Collect_updated_sOPEfresh</name>
        <label>Collect updated sOPEfresh</label>
        <locationX>695</locationX>
        <locationY>1446</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsReset</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProductExtensionFresh</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scOPE</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Override_vOppAutoRefresh</name>
        <label>Override vOppAutoRefresh</label>
        <locationX>144</locationX>
        <locationY>192</locationY>
        <assignmentItems>
            <assignToReference>vOppAutoRefresh</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunity.Automatic_refresh__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Automatic_refresh__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Auto_refresh</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Relate_to_primary</name>
        <label>sOP Relate to primary</label>
        <locationX>1857</locationX>
        <locationY>495</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.Recognised_date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunity.Training_starts__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code__c</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunity.Training_starts_shortened__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_OPE_Code_ADD_Price</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Relate_to_secondary</name>
        <label>sOP Relate to secondary</label>
        <locationX>1857</locationX>
        <locationY>592</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.Recognised_date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunity.Secondary_training_starts__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code__c</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunity.Secondary_training_starts_shortened__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_OPE_Code_ADD_Price</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_all_OPE</name>
        <label>Reset all OPE</label>
        <locationX>921</locationX>
        <locationY>401</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensions</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scOpportunityProductExtensionsReset</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Reset_reset_OPE</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_reset_OPE</name>
        <label>Reset reset OPE</label>
        <locationX>712</locationX>
        <locationY>402</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsReset</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scOpportunityProductExtensionsEmpty</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOP</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_reset_OPE_0</name>
        <label>Reset reset OPE</label>
        <locationX>1058</locationX>
        <locationY>784</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensionsReset</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scOpportunityProductExtensionsEmpty</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_sOPE_from_sOP</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_scOPE</name>
        <label>Reset scOPE</label>
        <locationX>223</locationX>
        <locationY>1776</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensions</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scOpportunityProductExtensionsEmpty</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_sOPE_create</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_sOPE</name>
        <label>Reset sOPE</label>
        <locationX>1145</locationX>
        <locationY>282</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtension.OP_Qty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtension.OP_is_Ad_Hoc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtension.Sync_updated__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sOPE_Reset</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Sync_flags</name>
        <label>Reset Sync flags</label>
        <locationX>447</locationX>
        <locationY>90</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_requires_resync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_roll_up_sync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_sync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Role_Records_syncing__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.ORR_Sync_current_OR__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_sync_count__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sync_pending_looping__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_resync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sync_in_progress__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_scOpportunityProducts</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_sync_status</name>
        <label>Reset sync status</label>
        <locationX>1137</locationX>
        <locationY>10</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Products_sync_status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>All done</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Split_fees_and_invoices_sync_status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>All done</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_resync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Sync_in_progress__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_sOpp_sync_status</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_OP_Ad_Hoc</name>
        <label>Set OP Ad Hoc</label>
        <locationX>1052</locationX>
        <locationY>580</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.Related_to_date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Ad Hoc</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Catch_reset_code</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_OPE_Code_ADD_Price</name>
        <label>sOP Set OPE Code ADD Price</label>
        <locationX>1646</locationX>
        <locationY>754</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code__c</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>@{!sOpportunityProduct.UnitPrice}</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOPCodeCurrent</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_quantity</name>
        <label>OC ONLY sOP Set quantity to PAX</label>
        <locationX>1664</locationX>
        <locationY>28</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.Quantity</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunity.Num_of_PAX_to_match_to_Qty__c</elementReference>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Set_Requires_Resync</name>
        <label>Set Requires Resync</label>
        <locationX>381</locationX>
        <locationY>2597</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_requires_resync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Products_sync_status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Long sync (+1hr)</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_resync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_sOpp</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_scOPE_to_new_batch</name>
        <label>Set scOPE to new batch</label>
        <locationX>291</locationX>
        <locationY>1060</locationY>
        <assignmentItems>
            <assignToReference>scOpportunityProductExtensions</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>scOpportunityProductExtensionsReset</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>scOP</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOPE_from_sOP</name>
        <label>Set Fresh sOPE from sOP</label>
        <locationX>1057</locationX>
        <locationY>873</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_Qty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Quantity</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_Unit_Price__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.UnitPrice</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.rec_date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Recognised_date__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OPE_code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.OPE_code__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Name</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunity.Shared_ID_to_be_set__c} {!sOpportunityProduct.OPE_code__c}</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_Facilitator_Position__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Facilitator__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_f2f__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Product_is_f2f__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_Name__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Product_name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_Qty_UOM__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Quantity_unit_of_measure__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Product_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.CurrencyIsoCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunity.CurrencyIsoCode</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Sync_updated__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Id</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Total_doll_comm_fac_perc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Total_doll_comm_fac_ad_hoc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Total_doll_comm_mark_perc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Total_doll_comm_ENSI_perc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Total_doll_rev_rec__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Total_perc_comm__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Total_fac_days__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Total_fac_days_ad_hoc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Shared_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>0</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_is_Ad_Hoc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Opportunity_Product_ID__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.Sync_matched__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.perc_comp_fac_days_ad_hoc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_sOP_ad_hoc</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOPEFresh_ad_hoc</name>
        <label>Set sOPEFresh ad hoc</label>
        <locationX>1271</locationX>
        <locationY>954</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_is_Ad_Hoc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Opportunity_Product_ID__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vIncludesAdHoc</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>If_scOpportunityProductExtensions_NULL_0_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_sOpp_ORR_syncing</name>
        <label>Set sOpp ORR syncing</label>
        <locationX>110</locationX>
        <locationY>2714</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Role_Records_syncing__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Opportunity_Products_resync__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.Products_sync_status__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Syncing</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_sOpp_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOP_Clear_rec_date</name>
        <label>sOP Clear rec. date</label>
        <locationX>1430</locationX>
        <locationY>491</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.Recognised_date__c</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Set_OPE_Code_ADD_Price</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOP_Code_Name</name>
        <label>sOP Code=Name</label>
        <locationX>1282</locationX>
        <locationY>298</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>{!sOpportunityProduct.Product_Name_shortened__c}--</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_related_date_ad_hoc</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOP_F100_to_code</name>
        <label>sOP add F100 to code</label>
        <locationX>1860</locationX>
        <locationY>296</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code__c</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue>FF-F{!sOpportunityProduct.Facilitator__c}-</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Not_related_to_date</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOP_rec_date_to_code</name>
        <label>sOP add rec. date to code</label>
        <locationX>1860</locationX>
        <locationY>391</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code__c</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProduct.Recognised_date_shortened__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_OPE_Code_ADD_Price</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOP_Set_current_code</name>
        <label>sOP set current code</label>
        <locationX>1202</locationX>
        <locationY>831</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.OPE_code_current__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProduct.OPE_code__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_sOPupdate</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOPEFresh_aggregate_Qty_sync_update</name>
        <label>sOPEFresh aggregate Qty &amp; Sync update</label>
        <locationX>297</locationX>
        <locationY>1447</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.OP_Qty__c</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>sOpportunityProductExtension.OP_Qty__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Sync_updated__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProductExtension.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vOPEupdated</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProduct.Sync_matched__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.perc_comp_fac_days_ad_hoc__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProductExtension.perc_comp_fac_days_ad_hoc__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_updated_sOPEfresh</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOPEFresh_sync_update</name>
        <label>sOPEFresh Sync update</label>
        <locationX>426</locationX>
        <locationY>1360</locationY>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Sync_updated__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunityProductExtensionFresh.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sOpportunityProductExtension.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>vOPEupdated</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Collect_updated_sOPEfresh</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_3_mth_inc</name>
        <label>sOpp 3_mth inc.</label>
        <locationX>524</locationX>
        <locationY>864</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Three_Month_Survey_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_sOP_PF1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_eLearn_inc</name>
        <label>sOpp eLearn inc.</label>
        <locationX>522</locationX>
        <locationY>943</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.eLearn_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_sOP_PF1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_NIP_inc</name>
        <label>sOpp NIP inc.</label>
        <locationX>525</locationX>
        <locationY>710</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.NIP_Survey_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_sOP_PF1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_PF_1</name>
        <label>sOpp PF = 1</label>
        <locationX>866</locationX>
        <locationY>737</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Num_PF_Leaders__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>1</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOP_has_RR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_PF_2</name>
        <label>sOpp PF = 2</label>
        <locationX>863</locationX>
        <locationY>811</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Num_PF_Leaders__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>2</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOP_has_RR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_PF_3</name>
        <label>sOpp PF = 3</label>
        <locationX>862</locationX>
        <locationY>884</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Num_PF_Leaders__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>3</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOP_has_RR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_PF_4</name>
        <label>sOpp PF = 4</label>
        <locationX>863</locationX>
        <locationY>961</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.Num_PF_Leaders__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>4</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>sOP_has_RR</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_PFQ_inc</name>
        <label>sOpp PFQ inc.</label>
        <locationX>524</locationX>
        <locationY>784</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.PFQ_Survey_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_sOP_PF1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_RAIT_inc</name>
        <label>sOpp RAIT inc.</label>
        <locationX>523</locationX>
        <locationY>1022</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.RAIT_Survey_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_sOP_PF1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>sOpp_Set_Products_inc_NULL</name>
        <label>sOpp - Set Products inc. NULL</label>
        <locationX>737</locationX>
        <locationY>74</locationY>
        <assignmentItems>
            <assignToReference>sOpportunity.NIP_Survey_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.PFQ_Survey_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.eLearn_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>sOpportunity.RAIT_Survey_included__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>If_scOpportunityProducts_NULL</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>vOPEupdated_FALSE</name>
        <label>vOPEupdated FALSE</label>
        <locationX>1058</locationX>
        <locationY>1249</locationY>
        <assignmentItems>
            <assignToReference>vOPEupdated</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Loop_scOPE</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Auto_refresh</name>
        <label>Auto refresh</label>
        <locationX>294</locationX>
        <locationY>273</locationY>
        <defaultConnector>
            <targetReference>Find_scOpportunityProductExtensions</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No refresh</defaultConnectorLabel>
        <rules>
            <name>Auto_refresh_From_sOpp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.Automatic_refresh__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Override_vOppAutoRefresh</targetReference>
            </connector>
            <label>From sOpp</label>
        </rules>
        <rules>
            <name>Auto_refresh_Extensions</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vOppAutoRefresh</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Extensions</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Find_scOpDeleteAll</targetReference>
            </connector>
            <label>Extensions</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_sOP_update</name>
        <label>Check sOP update</label>
        <locationX>114</locationX>
        <locationY>2461</locationY>
        <defaultConnector>
            <targetReference>ORR_already_syncing</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No OP to update</defaultConnectorLabel>
        <rules>
            <name>Yes_OP_update</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProductsUpdate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_sOP</targetReference>
            </connector>
            <label>Yes, OP to update</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_sOPE_create</name>
        <label>Check sOPE create</label>
        <locationX>221</locationX>
        <locationY>1883</locationY>
        <defaultConnector>
            <targetReference>Check_sOPE_update</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No OPE to create</defaultConnectorLabel>
        <rules>
            <name>Yes_OPE_create</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProductExtensionsCreate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_OPE</targetReference>
            </connector>
            <label>Yes, OPE to create</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_sOPE_delete</name>
        <label>Check sOPE delete</label>
        <locationX>116</locationX>
        <locationY>2131</locationY>
        <defaultConnector>
            <targetReference>Check_sOP_update</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No OPE to delete</defaultConnectorLabel>
        <rules>
            <name>Yes_OPE_delete</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProductExtensionsDelete</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_OPE</targetReference>
            </connector>
            <label>Yes, OPE to delete</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_sOPE_update</name>
        <label>Check sOPE update</label>
        <locationX>221</locationX>
        <locationY>1989</locationY>
        <defaultConnector>
            <targetReference>Check_sOPE_delete</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No OPE to update</defaultConnectorLabel>
        <rules>
            <name>Yes_OPE_update</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProductExtensionsUpdate</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_OPE</targetReference>
            </connector>
            <label>Yes, OPE to update</label>
        </rules>
    </decisions>
    <decisions>
        <name>HACK_is_OC_Parent</name>
        <label>HACK Is OC parent?</label>
        <locationX>582</locationX>
        <locationY>184</locationY>
        <defaultConnector>
            <targetReference>sOpp_Set_Products_inc_NULL</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>HACK_is_OC_Parent_True</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000iduVAAQ</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000iduWAAQ</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>If_scOpportunityProducts_NULL</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_Manual</name>
        <label>If Manual</label>
        <locationX>295</locationX>
        <locationY>90</locationY>
        <defaultConnector>
            <targetReference>Find_scOpportunityProducts</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>If_Manual_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vManual</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_Sync_flags</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_scOpportunityProductExtensions_NULL</name>
        <label>If scOPE NULL</label>
        <locationX>922</locationX>
        <locationY>9</locationY>
        <defaultConnector>
            <targetReference>Collect_scOPEdelete</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scOPE NOT NULL</defaultConnectorLabel>
        <rules>
            <name>scOpportunityProductExtensions_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProductExtensions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_sync_status</targetReference>
            </connector>
            <label>scOPE NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_scOpportunityProductExtensions_NULL_0</name>
        <label>If scOPE NULL</label>
        <locationX>705</locationX>
        <locationY>294</locationY>
        <defaultConnector>
            <targetReference>scOPE</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scOPE NOT NULL</defaultConnectorLabel>
        <rules>
            <name>scOpportunityProductExtensions_NULL_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProductExtensions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scOP</targetReference>
            </connector>
            <label>scOPE NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_scOpportunityProductExtensions_NULL_0_0</name>
        <label>If scOPE NULL</label>
        <locationX>1059</locationX>
        <locationY>1064</locationY>
        <defaultConnector>
            <targetReference>vOPEupdated_FALSE</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scOPE NOT NULL</defaultConnectorLabel>
        <rules>
            <name>scOpportunityProductExtensions_NULL_0_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProductExtensions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Collect_new_sOPEfresh</targetReference>
            </connector>
            <label>scOPE NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_scOpportunityProducts_NULL</name>
        <label>If scOP NULL</label>
        <locationX>922</locationX>
        <locationY>185</locationY>
        <defaultConnector>
            <targetReference>If_scOpportunityProductExtensions_NULL_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>scOP NOT NULL</defaultConnectorLabel>
        <rules>
            <name>scOpportunityProducts_NULL</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpportunityProducts</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>If_scOpportunityProductExtensions_NULL</targetReference>
            </connector>
            <label>scOP NULL</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_SyncUpdated</name>
        <label>If SyncUpdated</label>
        <locationX>522</locationX>
        <locationY>1696</locationY>
        <defaultConnector>
            <targetReference>Collect_scOPE_delete</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not updated</defaultConnectorLabel>
        <rules>
            <name>Yes_updated_sync</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.Sync_updated__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Collect_scOPE_update</targetReference>
            </connector>
            <label>Yes, has ID &amp; updated</label>
        </rules>
        <rules>
            <name>No_ID</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Collect_sOPEcreate</targetReference>
            </connector>
            <label>No ID</label>
        </rules>
    </decisions>
    <decisions>
        <name>Includes_Ad_Hoc</name>
        <label>Includes Ad Hoc</label>
        <locationX>110</locationX>
        <locationY>2903</locationY>
        <defaultConnector>
            <targetReference>PauseBeforeSubFlows</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Includes_Ad_Hoc_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vIncludesAdHoc</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PauseBeforeSubFlows_0</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Fac_100_Fee</name>
        <label>Is Fac 100% Fee</label>
        <locationX>1644</locationX>
        <locationY>300</locationY>
        <defaultConnector>
            <targetReference>Not_related_to_date</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Is_Fac_100_Fee_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Facilitator (100%) fee</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOP_F100_to_code</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_OP_editable</name>
        <label>Is OP editable?</label>
        <locationX>539</locationX>
        <locationY>485</locationY>
        <defaultConnector>
            <targetReference>Catch_code</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>OP NOT Editable</defaultConnectorLabel>
        <rules>
            <name>OP_Editable</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Amount_invoiced_so_far__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityProduct.Amount_invoiced_so_far__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Should_OP_be_Ad_Hoc</targetReference>
            </connector>
            <label>OP Editable</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Qty_equal_to_PAX</name>
        <label>OC ONLY Is Qty equal to PAX</label>
        <locationX>1297</locationX>
        <locationY>36</locationY>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>Yes_equal_to_PAX</name>
            <conditionLogic>1 AND 2 AND 3 AND (4 OR 5)</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Not_equal_to_PAX__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.Num_of_PAX_to_match_to_Qty__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.Num_of_PAX_to_match_to_Qty__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000iduVAAQ</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000iduWAAQ</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_quantity</targetReference>
            </connector>
            <label>Yes, equal to PAX and has PAX</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_related_date_ad_hoc</name>
        <label>Is related date ad hoc?</label>
        <locationX>1428</locationX>
        <locationY>300</locationY>
        <defaultConnector>
            <targetReference>Is_Fac_100_Fee</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not ad hoc</defaultConnectorLabel>
        <rules>
            <name>Yes_adhoc</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Related_to_date__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Ad Hoc</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOP_Clear_rec_date</targetReference>
            </connector>
            <label>Yes, ad hoc</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_related_date_primary</name>
        <label>Is related date primary?</label>
        <locationX>1645</locationX>
        <locationY>496</locationY>
        <defaultConnector>
            <targetReference>Is_related_date_secondary</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not primary</defaultConnectorLabel>
        <rules>
            <name>Yes_primary</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Related_to_date__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Training</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Relate_to_primary</targetReference>
            </connector>
            <label>Yes, primary</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_related_date_secondary</name>
        <label>Is related date secondary?</label>
        <locationX>1649</locationX>
        <locationY>597</locationY>
        <defaultConnector>
            <targetReference>Set_OPE_Code_ADD_Price</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not secondary</defaultConnectorLabel>
        <rules>
            <name>Yes_secondary</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Related_to_date__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Secondary training</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Relate_to_secondary</targetReference>
            </connector>
            <label>Yes, secondary</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_sOP_ad_hoc</name>
        <label>Is sOP ad hoc?</label>
        <locationX>1057</locationX>
        <locationY>959</locationY>
        <defaultConnector>
            <targetReference>If_scOpportunityProductExtensions_NULL_0_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Not ad hoc</defaultConnectorLabel>
        <rules>
            <name>Yes_ad_hoc</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Related_to_date__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Ad Hoc</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_sOPEFresh_ad_hoc</targetReference>
            </connector>
            <label>Yes, ad hoc</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_sOP_NIP</name>
        <label>Is sOP NIP etc?</label>
        <locationX>338</locationX>
        <locationY>639</locationY>
        <defaultConnector>
            <targetReference>Is_sOP_PF1</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>None</defaultConnectorLabel>
        <rules>
            <name>Yes_NIP</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>NIP</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_NIP_inc</targetReference>
            </connector>
            <label>Yes, NIP</label>
        </rules>
        <rules>
            <name>Yes_PFQ_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>PFQ</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_PFQ_inc</targetReference>
            </connector>
            <label>Yes, PFQ</label>
        </rules>
        <rules>
            <name>Yes_3_mth_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>impact</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_3_mth_inc</targetReference>
            </connector>
            <label>Yes, 3 mth</label>
        </rules>
        <rules>
            <name>Yes_eLearn_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>eLearning</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_eLearn_inc</targetReference>
            </connector>
            <label>Yes, eLearn</label>
        </rules>
        <rules>
            <name>Yes_RAIT_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>RAIT</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_RAIT_inc</targetReference>
            </connector>
            <label>Yes, RAIT</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_sOP_PF1</name>
        <label>Is sOP PF1 etc?</label>
        <locationX>684</locationX>
        <locationY>683</locationY>
        <defaultConnector>
            <targetReference>sOP_has_RR</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>None</defaultConnectorLabel>
        <rules>
            <name>Yes_PF1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>PF 1 Leader</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_PF_1</targetReference>
            </connector>
            <label>Yes, PF1</label>
        </rules>
        <rules>
            <name>Yes_PF2_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>PF 2 Leader</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_PF_2</targetReference>
            </connector>
            <label>Yes, PF2</label>
        </rules>
        <rules>
            <name>Yes_PF3_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>PF 3 Leader</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_PF_3</targetReference>
            </connector>
            <label>Yes, PF3</label>
        </rules>
        <rules>
            <name>Yes_PF4_1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>PF 4 Leader</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOpp_PF_4</targetReference>
            </connector>
            <label>Yes, PF4</label>
        </rules>
    </decisions>
    <decisions>
        <name>Not_related_to_date</name>
        <label>Not related to date</label>
        <locationX>1647</locationX>
        <locationY>392</locationY>
        <defaultConnector>
            <targetReference>Is_related_date_primary</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Yes related</defaultConnectorLabel>
        <rules>
            <name>Not_related</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Related_to_date__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Not related to training dates</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOP_rec_date_to_code</targetReference>
            </connector>
            <label>Not related</label>
        </rules>
    </decisions>
    <decisions>
        <name>ORR_already_syncing</name>
        <label>ORR already syncing?</label>
        <locationX>112</locationX>
        <locationY>2604</locationY>
        <defaultConnector>
            <targetReference>Set_sOpp_ORR_syncing</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>ORR not syncing</defaultConnectorLabel>
        <rules>
            <name>Yes_ORR_syncing</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.Opportunity_Role_Records_syncing__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunity.Touch__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>sOpportunity.Release_sync_lock__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Requires_Resync</targetReference>
            </connector>
            <label>Yes, ORR syncing</label>
        </rules>
    </decisions>
    <decisions>
        <name>scOpDeleteAll_NULL</name>
        <label>scOpDeleteAll NULL</label>
        <locationX>272</locationX>
        <locationY>375</locationY>
        <defaultConnector>
            <targetReference>Delete_scOpDeleteAll</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>scOpDeleteAll_NULL_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>scOpDeleteAll</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>HACK_is_OC_Parent</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>Should_OP_be_Ad_Hoc</name>
        <label>Should OP be Ad Hoc?</label>
        <locationX>917</locationX>
        <locationY>488</locationY>
        <defaultConnector>
            <targetReference>Catch_reset_code</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>Should_OP_be_Ad_Hoc_True</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>Retainer</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sOpportunityProduct.Product_name__c</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>Consulting</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_OP_Ad_Hoc</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOP_has_RR</name>
        <label>sOP has RR?</label>
        <locationX>1052</locationX>
        <locationY>679</locationY>
        <defaultConnector>
            <targetReference>scOP</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No RRs</defaultConnectorLabel>
        <rules>
            <name>Yes_RR</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.Has_role_records__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_reset_OPE_0</targetReference>
            </connector>
            <label>Yes, RR</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOP_match_sOPE</name>
        <label>sOP match sOPE</label>
        <locationX>298</locationX>
        <locationY>1244</locationY>
        <defaultConnector>
            <targetReference>Collect_sOPE</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>sOP_matched_already</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vOPEupdated</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Collect_sOPE</targetReference>
            </connector>
            <label>sOP matched already</label>
        </rules>
        <rules>
            <name>sOP_sOPE_code_match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.OPE_code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sOpportunityProductExtension.OPE_code__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>vOPEupdated</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOPEFresh_aggregate_Qty_sync_update</targetReference>
            </connector>
            <label>Code match</label>
        </rules>
        <rules>
            <name>sOP_ID_match</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProductExtension.Opportunity_Product_ID__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>sOpportunityProduct.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOPEFresh_sync_update</targetReference>
            </connector>
            <label>ID match</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOPCodeCurrent</name>
        <label>sOPCodeCurrent</label>
        <locationX>1647</locationX>
        <locationY>835</locationY>
        <defaultConnector>
            <targetReference>Collect_sOPupdate</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>CodeCurrent not blank</defaultConnectorLabel>
        <rules>
            <name>CodeCurrent_blank</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunityProduct.OPE_code_current__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sOP_Set_current_code</targetReference>
            </connector>
            <label>CodeCurrent blank</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOPE_updated_deleted</name>
        <label>sOPE updated or deleted?</label>
        <locationX>697</locationX>
        <locationY>1158</locationY>
        <defaultConnector>
            <targetReference>Collect_new_sOPEfresh</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>NOT updated / deleted</defaultConnectorLabel>
        <rules>
            <name>Yes_updated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>vOPEupdated</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_scOPE_to_new_batch</targetReference>
            </connector>
            <label>Yes, updated</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOpp_Profit_Split</name>
        <label>sOpp Profit Split</label>
        <locationX>1143</locationX>
        <locationY>186</locationY>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>sOpp_Profit_Split_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000iduWAAQ</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Aggregate_fee_splits</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <decisions>
        <name>sOpp_Profit_Split_no_sOP</name>
        <label>sOpp Profit Split, no sOP</label>
        <locationX>384</locationX>
        <locationY>2295</locationY>
        <defaultConnector>
            <targetReference>Check_sOP_update</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>False</defaultConnectorLabel>
        <rules>
            <name>sOpp_Profit_Split_no_sOP_True</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sOpportunity.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>0121r000000iduWAAQ</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>scOpportunityProducts</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Aggregate_fee_splits_0</targetReference>
            </connector>
            <label>True</label>
        </rules>
    </decisions>
    <interviewLabel>Opportunity Product sync {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity Product sync</label>
    <loops>
        <name>Loop_scOPE</name>
        <label>scOPE</label>
        <locationX>697</locationX>
        <locationY>1249</locationY>
        <assignNextValueToReference>sOpportunityProductExtension</assignNextValueToReference>
        <collectionReference>scOpportunityProductExtensions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>sOP_match_sOPE</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>sOPE_updated_deleted</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>scOP</name>
        <label>scOP</label>
        <locationX>214</locationX>
        <locationY>484</locationY>
        <assignNextValueToReference>sOpportunityProduct</assignNextValueToReference>
        <collectionReference>scOpportunityProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Is_OP_editable</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>scOPE_create_update_delete</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>scOPE</name>
        <label>scOPE</label>
        <locationX>917</locationX>
        <locationY>289</locationY>
        <assignNextValueToReference>sOpportunityProductExtension</assignNextValueToReference>
        <collectionReference>scOpportunityProductExtensions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Reset_sOPE</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Reset_all_OPE</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>scOPE_create_update_delete</name>
        <label>scOPE create, update or delete</label>
        <locationX>224</locationX>
        <locationY>1659</locationY>
        <assignNextValueToReference>sOpportunityProductExtension</assignNextValueToReference>
        <collectionReference>scOpportunityProductExtensions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>If_SyncUpdated</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Reset_scOPE</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_OPE</name>
        <label>Create OPE</label>
        <locationX>521</locationX>
        <locationY>1887</locationY>
        <connector>
            <targetReference>Check_sOPE_update</targetReference>
        </connector>
        <inputReference>scOpportunityProductExtensionsCreate</inputReference>
    </recordCreates>
    <recordDeletes>
        <name>Delete_OPE</name>
        <label>Delete OPE</label>
        <locationX>390</locationX>
        <locationY>2133</locationY>
        <connector>
            <targetReference>sOpp_Profit_Split_no_sOP</targetReference>
        </connector>
        <inputReference>scOpportunityProductExtensionsDelete</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_scOpDeleteAll</name>
        <label>scOpDeleteAll</label>
        <locationX>448</locationX>
        <locationY>336</locationY>
        <connector>
            <targetReference>Delete_the_records</targetReference>
        </connector>
        <inputReference>scOpDeleteAll</inputReference>
    </recordDeletes>
    <recordLookups>
        <name>Find_scOpDeleteAll</name>
        <label>scOpDeleteAll</label>
        <locationX>146</locationX>
        <locationY>375</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>scOpDeleteAll_NULL</targetReference>
        </connector>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity_Product_Extension__c</object>
        <outputReference>scOpDeleteAll</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_scOpportunityProductExtensions</name>
        <label>Find scOPE</label>
        <locationX>444</locationX>
        <locationY>183</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>HACK_is_OC_Parent</targetReference>
        </connector>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_OPE__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <object>Opportunity_Product_Extension__c</object>
        <outputReference>scOpportunityProductExtensions</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>OPE_code__c</queriedFields>
        <queriedFields>Shared_ID__c</queriedFields>
        <queriedFields>Opportunity_Product_ID__c</queriedFields>
        <queriedFields>perc_comp_fac_days_ad_hoc__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_scOpportunityProducts</name>
        <label>Find scOP</label>
        <locationX>295</locationX>
        <locationY>186</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Auto_refresh</targetReference>
        </connector>
        <filters>
            <field>Has_role_records__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>OpportunityId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>OpportunityLineItem</object>
        <outputReference>scOpportunityProducts</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Facilitator__c</queriedFields>
        <queriedFields>Product_Name_shortened__c</queriedFields>
        <queriedFields>Quantity</queriedFields>
        <queriedFields>Quantity_unit_of_measure__c</queriedFields>
        <queriedFields>TotalPrice</queriedFields>
        <queriedFields>Product_Type__c</queriedFields>
        <queriedFields>UnitPrice</queriedFields>
        <queriedFields>Recognised_date__c</queriedFields>
        <queriedFields>Related_to_date__c</queriedFields>
        <queriedFields>CurrencyIsoCode</queriedFields>
        <queriedFields>Has_role_records__c</queriedFields>
        <queriedFields>Amount_invoiced_so_far__c</queriedFields>
        <queriedFields>Not_equal_to_PAX__c</queriedFields>
        <queriedFields>OPE_code__c</queriedFields>
        <queriedFields>Product_is_f2f__c</queriedFields>
        <queriedFields>Product_name__c</queriedFields>
        <queriedFields>OPE_code_current__c</queriedFields>
        <queriedFields>Recognised_date_shortened__c</queriedFields>
        <queriedFields>Product2Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Find_sOpp</name>
        <label>Find sOpp</label>
        <locationX>156</locationX>
        <locationY>89</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>If_Manual</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>sOpportunity</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Shared_ID_to_be_set__c</queriedFields>
        <queriedFields>Training_starts__c</queriedFields>
        <queriedFields>Training_ends__c</queriedFields>
        <queriedFields>Secondary_training_starts__c</queriedFields>
        <queriedFields>Secondary_training_ends__c</queriedFields>
        <queriedFields>Num_of_PAX_to_match_to_Qty__c</queriedFields>
        <queriedFields>Training_starts_shortened__c</queriedFields>
        <queriedFields>Secondary_training_starts_shortened__c</queriedFields>
        <queriedFields>CurrencyIsoCode</queriedFields>
        <queriedFields>Assigned_CSM__c</queriedFields>
        <queriedFields>Wait_base_time_1_minute__c</queriedFields>
        <queriedFields>Touch_check_time_1_minute__c</queriedFields>
        <queriedFields>Opportunity_Role_Records_syncing__c</queriedFields>
        <queriedFields>Touch__c</queriedFields>
        <queriedFields>Release_sync_lock__c</queriedFields>
        <queriedFields>RecordTypeId</queriedFields>
        <queriedFields>Automatic_refresh__c</queriedFields>
        <queriedFields>Description</queriedFields>
    </recordLookups>
    <recordUpdates>
        <name>Update_OPE</name>
        <label>Update OPE</label>
        <locationX>524</locationX>
        <locationY>1990</locationY>
        <connector>
            <targetReference>Check_sOPE_delete</targetReference>
        </connector>
        <inputReference>scOpportunityProductExtensionsUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_sOP</name>
        <label>Update sOP</label>
        <locationX>391</locationX>
        <locationY>2452</locationY>
        <connector>
            <targetReference>ORR_already_syncing</targetReference>
        </connector>
        <inputReference>scOpportunityProductsUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_sOpp</name>
        <label>Update sOpp</label>
        <locationX>515</locationX>
        <locationY>2595</locationY>
        <inputReference>sOpportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_sOpp_0</name>
        <label>Update sOpp</label>
        <locationX>110</locationX>
        <locationY>2809</locationY>
        <connector>
            <targetReference>Includes_Ad_Hoc</targetReference>
        </connector>
        <inputReference>sOpportunity</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_sOpp_sync_status</name>
        <label>Update sOpp sync status</label>
        <locationX>1137</locationX>
        <locationY>100</locationY>
        <connector>
            <targetReference>sOpp_Profit_Split</targetReference>
        </connector>
        <inputReference>sOpportunity</inputReference>
    </recordUpdates>
    <startElementReference>Find_sOpp</startElementReference>
    <status>Active</status>
    <subflows>
        <name>Aggregate_fee_splits</name>
        <label>Aggregate fee splits</label>
        <locationX>1309</locationX>
        <locationY>191</locationY>
        <flowName>Expenses_aggregate_fee_splits</flowName>
        <inputAssignments>
            <name>vOpportunityId</name>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>vOpportunityId</assignToReference>
            <name>vOpportunityId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Aggregate_fee_splits_0</name>
        <label>Aggregate fee splits</label>
        <locationX>550</locationX>
        <locationY>2300</locationY>
        <connector>
            <targetReference>Check_sOP_update</targetReference>
        </connector>
        <flowName>Expenses_aggregate_fee_splits</flowName>
        <inputAssignments>
            <name>vOpportunityId</name>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>vOpportunityId</assignToReference>
            <name>vOpportunityId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Opportunity_Product_Extension_monthlies</name>
        <label>Opportunity Product Extension monthlies</label>
        <locationX>277</locationX>
        <locationY>3173</locationY>
        <connector>
            <targetReference>PauseBeforeSubFlows</targetReference>
        </connector>
        <flowName>Opportunity_Product_Extensions_create_monthly</flowName>
        <inputAssignments>
            <name>vOpportunityId</name>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vOppAutoRefresh</name>
            <value>
                <elementReference>vOppAutoRefresh</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>vOpportunityId</assignToReference>
            <name>vOpportunityId</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Opportunity_Role_Records_sync</name>
        <label>Opportunity Role Records sync</label>
        <locationX>113</locationX>
        <locationY>3393</locationY>
        <flowName>Opportunity_Role_Record_sync</flowName>
        <inputAssignments>
            <name>vOpportunityId</name>
            <value>
                <elementReference>vOpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>vOppAutoRefresh</name>
            <value>
                <elementReference>vOppAutoRefresh</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>vOpportunityId</assignToReference>
            <name>vOpportunityId</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>Minutes_ago_55</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>scOpDeleteAll</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityProductExtensions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityProductExtensionsCreate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityProductExtensionsDelete</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityProductExtensionsEmpty</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityProductExtensionsReset</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityProductExtensionsUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>scOpportunityProductsUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecords</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecordsDelete</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>scOpportunityRoleRecordsNew</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>sOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>sOpportunityProduct</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>OpportunityLineItem</objectType>
    </variables>
    <variables>
        <name>sOpportunityProductExtension</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>sOpportunityProductExtensionFresh</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Product_Extension__c</objectType>
    </variables>
    <variables>
        <name>sRoleRecord</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_Role_Record__c</objectType>
    </variables>
    <variables>
        <name>vDebugChatterId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>vIncludesAdHoc</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vManual</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vOPEupdated</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>vOppAutoRefresh</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>vOpportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>vWaitEventStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <waits>
        <name>Delete_the_records</name>
        <label>Delete the records</label>
        <locationX>578</locationX>
        <locationY>280</locationY>
        <defaultConnectorLabel>[Default Path]</defaultConnectorLabel>
        <waitEvents>
            <name>WaitOneMinute_delete</name>
            <conditionLogic>and</conditionLogic>
            <connector>
                <targetReference>HACK_is_OC_Parent</targetReference>
            </connector>
            <eventType>DateRefAlarmEvent</eventType>
            <inputParameters>
                <name>EntityObjectId</name>
                <value>
                    <elementReference>vOpportunityId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeFieldColumnEnumOrId</name>
                <value>
                    <stringValue>Wait_base_time_1_minute__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeTableColumnEnumOrId</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffset</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffsetUnit</name>
                <value>
                    <stringValue>Hours</stringValue>
                </value>
            </inputParameters>
            <label>WaitOneMinute</label>
            <outputParameters>
                <assignToReference>vWaitEventStatus</assignToReference>
                <name>Status</name>
            </outputParameters>
        </waitEvents>
    </waits>
    <waits>
        <name>PauseBeforeSubFlows</name>
        <label>PauseBeforeSubFlows</label>
        <locationX>114</locationX>
        <locationY>3265</locationY>
        <defaultConnectorLabel>Default</defaultConnectorLabel>
        <waitEvents>
            <name>WaitOneMinute</name>
            <conditionLogic>and</conditionLogic>
            <connector>
                <targetReference>Opportunity_Role_Records_sync</targetReference>
            </connector>
            <eventType>DateRefAlarmEvent</eventType>
            <inputParameters>
                <name>EntityObjectId</name>
                <value>
                    <elementReference>vOpportunityId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeFieldColumnEnumOrId</name>
                <value>
                    <stringValue>Wait_base_time_1_minute__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeTableColumnEnumOrId</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffset</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffsetUnit</name>
                <value>
                    <stringValue>Hours</stringValue>
                </value>
            </inputParameters>
            <label>WaitOneMinute</label>
            <outputParameters>
                <assignToReference>vWaitEventStatus</assignToReference>
                <name>Status</name>
            </outputParameters>
        </waitEvents>
    </waits>
    <waits>
        <name>PauseBeforeSubFlows_0</name>
        <label>PauseBeforeSubFlows</label>
        <locationX>277</locationX>
        <locationY>3045</locationY>
        <defaultConnectorLabel>Default</defaultConnectorLabel>
        <waitEvents>
            <name>WaitOneMinute_0</name>
            <conditionLogic>and</conditionLogic>
            <connector>
                <targetReference>Opportunity_Product_Extension_monthlies</targetReference>
            </connector>
            <eventType>DateRefAlarmEvent</eventType>
            <inputParameters>
                <name>EntityObjectId</name>
                <value>
                    <elementReference>vOpportunityId</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeFieldColumnEnumOrId</name>
                <value>
                    <stringValue>Wait_base_time_1_minute__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeTableColumnEnumOrId</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffset</name>
                <value>
                    <numberValue>1.0</numberValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>TimeOffsetUnit</name>
                <value>
                    <stringValue>Hours</stringValue>
                </value>
            </inputParameters>
            <label>WaitOneMinute</label>
            <outputParameters>
                <assignToReference>vWaitEventStatus</assignToReference>
                <name>Status</name>
            </outputParameters>
        </waitEvents>
    </waits>
</Flow>
